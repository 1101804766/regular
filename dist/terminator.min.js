/**
@author	leeluolee
@version	0.0.1
@homepage	http://leeluolee.github.io/terminator
*/
!function(){"use strict";function r(e,t,n){function i(){n=n||e,t=t||"root";var r=new Error('Failed to require "'+n+'" from "'+t+'"');throw r.path=n,r.parent=t,r.require=!0,r}var s=r.resolve(e);if(null==s)return void i();var o=r.modules[s];if(!o._resolving&&!o.exports){var u={};u.exports={},u.client=u.component=!0,o._resolving=!0,o.call(this,u.exports,r.relative(s),u),delete o._resolving,o.exports=u.exports}return o.exports}r.modules={},r.aliases={},r.exts=["",".js",".json","/index.js","/index.json"],r.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var t=0;5>t;t++){var n=e+r.exts[t];if(r.modules.hasOwnProperty(n))return n;if(r.aliases.hasOwnProperty(n))return r.aliases[n]}},r.normalize=function(r,e){var t=[];if("."!=e.charAt(0))return e;r=r.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."===e[n]?r.pop():"."!=e[n]&&""!=e[n]&&t.push(e[n]);return r.concat(t).join("/")},r.register=function(e,t){r.modules[e]=t},r.alias=function(e,t){function n(){throw new Error('Failed to alias "'+e+'", it does not exist')}return r.modules.hasOwnProperty(e)?void(r.aliases[t]=e):void n()},r.relative=function(e){function t(n){var i=t.resolve(n);return r(i,e,n)}var n=r.normalize(e,"..");return t.resolve=function(t){var i=t.charAt(0);if("/"===i)return t.slice(1);if("."===i)return r.normalize(n,t);for(var s=e.split("/"),o=s.length;o--&&"deps"!==s[o];);return t=s.slice(0,o+2).join("/")+"/deps/"+t},t.exists=function(e){return r.modules.hasOwnProperty(t.resolve(e))},t},r.register("terminator/src/browser.js",function(r,e){e("./common")}),r.register("terminator/src/common.js",function(r,e,t){e("./parser/lexer.js");t.exports=function(){return"common2"}}),r.register("terminator/src/util.js",function(r,e,t){var n=t.exports,i=[].slice;n.slice=function(r,e,t){return i.call(r,e,t)},n.typeOf=function(r){return null==r?String(r):{}.toString.call(r).slice(8,-1).toLowerCase()},n.extend=function(r,e,t){for(var n in e)("undefined"==typeof r[n]||t)&&(r[n]=e[n]);return r},n.makePredicate=function(r,e){function t(r){if(1==r.length)return n+="return str === '"+r[0]+"';";n+="switch(str){";for(var e=0;e<r.length;++e)n+="case '"+r[e]+"':";n+="return true}return false;"}"string"==typeof r&&(r=r.split(" "));var n="",i=[];r:for(var s=0;s<r.length;++s){for(var o=0;o<i.length;++o)if(i[o][0].length==r[s].length){i[o].push(r[s]);continue r}i.push([r[s]])}if(i.length>3){i.sort(function(r,e){return e.length-r.length}),n+="var prefix = "+(e?"true":"false")+";if(prefix) str = str.replace(/^-(?:\\w+)-/,'');switch(str.length){";for(var s=0;s<i.length;++s){var u=i[s];n+="case "+u[0].length+":",t(u)}n+="}"}else t(r);return new Function("str",n)}}),r.register("terminator/src/parser/lexer.js",function(r,e,t){function n(r){return function(e){return{type:r,value:e}}}function i(r,e){return function(){return{type:r,value:arguments[e]}}}function s(r){for(var e=0,t=0,n=r.length,i=r.split(f).length-1;n--;){var s=r.charAt(n);(0===n||"\\"!==r.charAt(n-1)||"?"!==r.charAt(n+1))&&("("===s&&e++,")"===s&&t++)}if(e!==t)throw"RegExp: "+r+"'s bracket is not marched";return e-i}function o(r,e){this.input=(r||"").trim(),this.opts=e||{},this.map=2!=this.opts.mode?h:v}function u(r){for(var e,t,n={},i=0,s=r.length;s>i;i++)e=r[i],t=e[2]||"INIT",(n[t]||(n[t]={rules:[],links:[]})).rules.push(e);return a(n)}function a(r){var e,t,o,u,a,f;for(var T in r){e=r[T],e.curIndex=1,t=e.rules,o=[];for(var T=0,E=t.length;E>T;T++){if(rule=t[T],a=rule[0],u=rule[1],"string"==typeof u)if(~u.indexOf(":")){var h=u.split(":"),v=h[0],S=parseInt(h[1].replace("$",""));u=i(v,S)}else u=n(u);"regexp"==c.typeOf(a)&&(a=a.toString().slice(1,-1)),a=a.replace(/\{(\w+)\}/g,function(r,e){return"string"==typeof p[e]?l(p[e]):String(p[e]).slice(1,-1)}),f=s(a)+1,e.links.push([e.curIndex,f,u]),e.curIndex+=f,o.push(a)}e.TRUNK=new RegExp("^(?:("+o.join(")|(")+"))")}return r}function l(r){return r.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(r){return"\\"+r})}var c=e("../util.js"),f=/\(\?\!|\(\?\:|\?\=/,T=o.prototype;T.skipspace=function(r){var e,t=0,n=r;for(e=n.charCodeAt(t);e&&(32===e||13===e||10===e||8232===e||8233===e);)t++,e=n.charCodeAt(t);return this.index+=t,r.slice(t)},T.lex=function(r){r=(r||this.input).trim();{var e,t,n,i,s,o=[];this.input=r}for(this.index=0,this.states=["INIT"];r;)s=this.state(),e=this.map[s],t=e.TRUNK.exec(r),t||(console.log(o),this.error("Unrecoginized Token")),n=t[0].length,i=this._process.call(this,t,e),i&&o.push(i),this.index+=n,r=r.slice(n);return o.push({type:"EOF"}),o},T.next=function(){var r=this.map[this.state()],e=r.TRUNK.exec(str);e||this.error("Unrecoginized Token");var t=e[0].length,n=this._process.apply(this,e);return this.input=this.input.slice(t),n},T.error=function(r){throw"Parse Error: "+r+":\n"+trackErrorPos(this.input,this.index)},T._process=function(r,e){for(var t=e.links,n=t.length,i=0;n>i;i++){var s=t[i],o=s[2],u=s[0];if(void 0!=r[u]){if(o){var a=o.apply(this,r.slice(u,u+s[1]));a&&(a.pos=this.index)}break}}return a},T.addRule=function(){},T.enter=function(r){return this.states.push(r),this},T.state=function(){var r=this.states;return r[r.length-1]},T.leave=function(){this.states.pop()};var p={BEGIN:"{",END:"}",NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][-_0-9A-Za-z\$]*/},E={COMMENT:[/<!--([^\x00]*?)-->/],ENTER_JST:[/[^\x00\<]*?(?={BEGIN})/,function(r){return this.enter("JST"),r?{type:"TEXT",value:r}:void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(r){return this.enter("JST"),r?{type:"TEXT",value:r}:void 0}],ENTER_TAG:[/[^\x00<>]*?(?=<)/,function(r){return this.enter("TAG"),r?{type:"TEXT",value:r}:void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(r,e){return{type:"TAG_OPEN",value:e}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f ]*>/,function(r,e){return this.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_PUNCHOR:[/[>\/=]/,function(r){return">"===r&&this.leave(),{type:r,value:r}},"TAG"],TAG_SPACE:[/[ \r\n\f]+/,null,"TAG"],JST_COMMENT:[/{!([^\x00]*?)!}/,null,"JST"],JST_OPEN:["{BEGIN}s*({IDENT})",function(r,e){return{type:"OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(){return this.leave("JST"),{type:"END"}},"JST"],JST_EXPR_OPEN:["{BEGIN}([=-])",function(r){var e="="==r;return{type:"EXPR_OPEN",escape:e}},"JST"],JST_CLOSE:[/{BEGIN}\s*\/\s*({IDENT})\s*{END}/,function(r,e){return this.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%]?\=|\|\||&&|[\<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,#]/,function(r){return{type:r,value:r}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(r,e,t){return{type:"STRING",value:e||t}},"JST"],JST_NUMBER:[/[0-9]*\.[0-9]+|[0-9]+/,function(r){var e;return"number"==typeof(e=parseInt(r))&&e===e?{type:"NUMBER",value:e}:void 0},"JST"]},h=u([E.COMMENT,E.ENTER_JST,E.ENTER_TAG,E.TEXT,E.TAG_NAME,E.TAG_OPEN,E.TAG_CLOSE,E.TAG_PUNCHOR,E.TAG_SPACE,E.JST_OPEN,E.JST_EXPR_OPEN,E.JST_IDENT,E.JST_SPACE,E.JST_LEAVE,E.JST_CLOSE,E.JST_NUMBER,E.JST_PUNCHOR,E.JST_STRING,E.JST_COMMENT]),v=u([E.ENTER_JST2,E.TEXT,E.JST_OPEN,E.JST_EXPR_OPEN,E.JST_IDENT,E.JST_SPACE,E.JST_LEAVE,E.JST_CLOSE,E.JST_NUMBER,E.JST_PUNCHOR,E.JST_STRING,E.JST_COMMENT]);t.exports=o}),r.register("terminator/src/parser/node.js",function(){}),r.register("terminator/src/parser/parser.js",function(){}),r.alias("terminator/src/browser.js","terminator/index.js"),"object"==typeof exports?module.exports=r("terminator"):"function"==typeof define&&define.amd?define(function(){return r("terminator")}):window.terminator=r("terminator")}();