!function(){"use strict";function t(e,r,n){function i(){n=n||e,r=r||"root";var t=new Error('Failed to require "'+n+'" from "'+r+'"');throw t.path=n,t.parent=r,t.require=!0,t}var s=t.resolve(e);if(null==s)return void i();var u=t.modules[s];if(!u._resolving&&!u.exports){var a={};a.exports={},a.client=a.component=!0,u._resolving=!0,u.call(this,a.exports,t.relative(s),a),delete u._resolving,u.exports=a.exports}return u.exports}t.modules={},t.aliases={},t.exts=["",".js",".json","/index.js","/index.json"],t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var r=0;5>r;r++){var n=e+t.exts[r];if(t.modules.hasOwnProperty(n))return n;if(t.aliases.hasOwnProperty(n))return t.aliases[n]}},t.normalize=function(t,e){var r=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var n=0;n<e.length;++n)".."===e[n]?t.pop():"."!=e[n]&&""!=e[n]&&r.push(e[n]);return t.concat(r).join("/")},t.register=function(e,r){t.modules[e]=r},t.alias=function(e,r){function n(){throw new Error('Failed to alias "'+e+'", it does not exist')}return t.modules.hasOwnProperty(e)?void(t.aliases[r]=e):void n()},t.relative=function(e){function r(n){var i=r.resolve(n);return t(i,e,n)}var n=t.normalize(e,"..");return r.resolve=function(r){var i=r.charAt(0);if("/"===i)return r.slice(1);if("."===i)return t.normalize(n,r);for(var s=e.split("/"),u=s.length;u--&&"deps"!==s[u];);return r=s.slice(0,u+2).join("/")+"/deps/"+r},r.exists=function(e){return t.modules.hasOwnProperty(r.resolve(e))},r},t.register("terminator/src/browser.js",function(t,e){e("./common")}),t.register("terminator/src/common.js",function(t,e){e("./parser/Lexer.js"),e("./parser/Parser2.js")}),t.register("terminator/src/util.js",function(t,e,r){var n=r.exports,i=[].slice,s={}.toString;n.uid=function(){var t=0;return function(){return t++}}(),n.varName="data",n.randomVar=function(){return"var_"+(1e6+n.uid()).toString(36)},n.host="data",n.slice=function(t,e,r){return i.call(t,e,r)},n.typeOf=function(t){return null==t?String(t):{}.toString.call(t).slice(8,-1).toLowerCase()},n.extend=function(t,e,r){for(var n in e)("undefined"==typeof t[n]||r)&&(t[n]=e[n]);return t},n.makePredicate=function(t,e){function r(t){if(1===t.length)return n+="return str === "+t[0]+";";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case '"+t[e]+"':";n+="return true}return false;"}"string"==typeof t&&(t=t.split(" "));var n="",i=[];t:for(var s=0;s<t.length;++s){for(var u=0;u<i.length;++u)if(i[u][0].length===t[s].length){i[u].push(t[s]);continue t}i.push([t[s]])}if(i.length>3){i.sort(function(t,e){return e.length-t.length}),n+="var prefix = "+(e?"true":"false")+";if(prefix) str = str.replace(/^-(?:\\w+)-/,'');switch(str.length){";for(var s=0;s<i.length;++s){var a=i[s];n+="case "+a[0].length+":",r(a)}n+="}"}else r(t);return new Function("str",n)};var u=/\r\n|[\n\r\u2028\u2029]/g;n.trackErrorPos=function(t,e){u.lastIndex=0;for(var r,n,i=1,s=0,a=t.length;n=u.exec(t);)n.index<e?(++i,s=n.index+1):r=n.index;r||(r=a-1);var o=e-10;s>o&&(o=s);var h=e+10;h>r&&(h=r);var l=t.slice(o,h+1),c=i+"> "+(o>=s?"...":""),p=r>h?"...":"";return c+l+p+"\n"+new Array(c.length+e-o+1).join(" ")+"^"};var a=/\(\?\!|\(\?\:|\?\=/;n.findSubCapture=function(t){for(var e=0,r=0,n=t.length,i=t.split(a).length-1;n--;){var s=t.charAt(n);(0===n||"\\"!==t.charAt(n-1)||"?"!==t.charAt(n+1))&&("("===s&&e++,")"===s&&r++)}if(e!==r)throw"RegExp: "+t+"'s bracket is not marched";return e-i},n.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(t){return"\\"+t})},n.assert=function(t,e){if(!t)throw e;return!0},n.walk=function(t){var e={};return t.walk=function(t,r){if("[object Array]"===s.call(t)){for(var n=[],i=0,u=t.length;u>i;i++)n.push(this.walk(t[i]));return this}return e[t.type||"default"].call(this,t,r)},e},n.isEmpty=function(t){return!t||0===t.length},n.compileGetter=function(t){for(var e="obj",r="if("+e+" != null",n=0,i=t.length;i>n;n++)e+="['"+t[n]+"']",r+="&&"+e+"!=null";return r+=") return "+e+";\n",r+="else return undefined",new Function("obj",r)}}),t.register("terminator/src/env.js",function(t){t.svg=function(){return"undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),t.transition=function(){}}),t.register("terminator/src/dom.js",function(t,e,r){{var n=r.exports,i=(e("./env.js"),e("./util"));document.createElement("div")}n.create=function(t,e){return document[e?i.assert("svg"!==e||evn.svg,"this browser has no svg support")&&"createElementNS":"createElement"](t,e)},n.fragment=function(){return document.createFragment()},n.attr=function(t,e,r){return void 0===r?t.getAttribute(e,r):null===r?t.removeAttribute(e):t.setAttribute(e,+r)};var s={};null==tnode.textContent?("innerText"==s[1],"nodeValue"==s[3]):s[1]=s[3]="textContent",n.text=function(t,e){return void 0===e?t[s[t.type]]:void(t[s[t.type]]=e)};n.html=function(){return void 0===text?node.innerHTML:void(node.innerHTML=text)},n.css=function(){},n.addClass=function(){},n.delClass=function(){},n.hasClass=function(){}}),t.register("terminator/src/parser/Lexer.js",function(t,e,r){function n(t){return function(e){return{type:t,value:e}}}function i(t,e){return function(){return{type:t,value:arguments[e]}}}function s(t,e){this.input=(t||"").trim(),this.opts=e||{},this.map=2!=this.opts.mode?p:f}function u(t){for(var e,r,n={},i=0,s=t.length;s>i;i++)e=t[i],r=e[2]||"INIT",(n[r]||(n[r]={rules:[],links:[]})).rules.push(e);return a(n)}function a(t){var e,r,s,u,a,h;for(var c in t){e=t[c],e.curIndex=1,r=e.rules,s=[];for(var c=0,p=r.length;p>c;c++){if(rule=r[c],a=rule[0],u=rule[1],"string"==typeof u)if(~u.indexOf(":")){var f=u.split(":"),v=f[0],E=parseInt(f[1].replace("$",""));u=i(v,E)}else u=n(u);"regexp"==o.typeOf(a)&&(a=a.toString().slice(1,-1)),a=a.replace(/\{(\w+)\}/g,function(t,e){return"string"==typeof l[e]?o.escapeRegExp(l[e]):String(l[e]).slice(1,-1)}),h=o.findSubCapture(a)+1,e.links.push([e.curIndex,h,u]),e.curIndex+=h,s.push(a)}e.TRUNK=new RegExp("^(?:("+s.join(")|(")+"))")}return t}var o=e("../util.js"),h=s.prototype;h.skipspace=function(t){var e,r=0,n=t;for(e=n.charCodeAt(r);e&&(32===e||13===e||10===e||8232===e||8233===e);)r++,e=n.charCodeAt(r);return this.index+=r,t.slice(r)},h.lex=function(t){t=(t||this.input).trim();{var e,r,n,i,s,u=[];this.input=t}for(this.index=0,this.states=["INIT"];t;)s=this.state(),e=this.map[s],r=e.TRUNK.exec(t),r||(console.log(u),this.error("Unrecoginized Token")),n=r[0].length,i=this._process.call(this,r,e),i&&u.push(i),this.index+=n,t=t.slice(n);return u.push({type:"EOF"}),u},h.next=function(){var t=this.map[this.state()],e=t.TRUNK.exec(str);e||this.error("Unrecoginized Token");var r=e[0].length,n=this._process.apply(this,e);return this.input=this.input.slice(r),n},h.error=function(t){throw"Parse Error: "+t+":\n"+o.trackErrorPos(this.input,this.index)},h._process=function(t,e){for(var r=e.links,n=r.length,i=0;n>i;i++){var s=r[i],u=s[2],a=s[0];if(void 0!=t[a]){if(u){var o=u.apply(this,t.slice(a,a+s[1]));o&&(o.pos=this.index)}break}}return o},h.enter=function(t){return this.states.push(t),this},h.state=function(){var t=this.states;return t[t.length-1]},h.leave=function(){this.states.pop()};var l={BEGIN:"{",END:"}",NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][-_0-9A-Za-z\$]*/},c={COMMENT:[/<!--([^\x00]*?)-->/],ENTER_JST:[/[^\x00\<]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_TAG:[/[^\x00<>]*?(?=<)/,function(t){return this.enter("TAG"),t?{type:"TEXT",value:t}:void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(t,e){return{type:"TAG_OPEN",value:e}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f ]*>/,function(t,e){return this.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.enter("JST")},"TAG"],TAG_PUNCHOR:[/[>\/=]/,function(t){return">"===t&&this.leave(),{type:t,value:t}},"TAG"],TAG_SPACE:[/[ \r\n\f]+/,null,"TAG"],JST_COMMENT:[/{!([^\x00]*?)!}/,null,"JST"],JST_OPEN:["{BEGIN}s*({IDENT})",function(t,e){return{type:"OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(){return this.leave("JST"),{type:"END"}},"JST"],JST_EXPR_OPEN:["{BEGIN}([=-])",function(t,e){var r="="==e;return{type:"EXPR_OPEN",escape:r}},"JST"],JST_CLOSE:[/{BEGIN}\s*\/\s*({IDENT})\s*{END}/,function(t,e){return this.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%]?\=|\|\||&&|[\<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,#]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,r){return{type:"STRING",value:e||r}},"JST"],JST_NUMBER:[/-?(?:[0-9]*\.[0-9]+|[0-9]+)/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]},p=u([c.COMMENT,c.ENTER_JST,c.ENTER_TAG,c.TEXT,c.TAG_NAME,c.TAG_OPEN,c.TAG_CLOSE,c.TAG_PUNCHOR,c.TAG_ENTER_JST,c.TAG_SPACE,c.JST_OPEN,c.JST_EXPR_OPEN,c.JST_IDENT,c.JST_SPACE,c.JST_LEAVE,c.JST_CLOSE,c.JST_NUMBER,c.JST_PUNCHOR,c.JST_STRING,c.JST_COMMENT]),f=u([c.ENTER_JST2,c.TEXT,c.JST_OPEN,c.JST_EXPR_OPEN,c.JST_IDENT,c.JST_SPACE,c.JST_LEAVE,c.JST_CLOSE,c.JST_NUMBER,c.JST_PUNCHOR,c.JST_STRING,c.JST_COMMENT]);r.exports=s}),t.register("terminator/src/parser/node.js",function(t,e,r){r.exports={element:function(t,e,r){return{type:"element",tag:t,attrs:e,children:r}},attribute:function(t,e){return{type:"attribute",name:t,value:e}},"if":function(t,e,r){return{type:"if",test:t,consequent:e,alternate:r}},list:function(t,e,r){return{type:"list",sequence:t,variable:e,body:r}},expression:function(t,e){return{type:"expression",body:t,deps:e}},text:function(t){return t},interplation:function(t,e){return{type:"interplation",expression:t,escape:e}},filter:function(t,e){return{type:"filter",object:t,filters:e}},condition:function(t,e,r){return{type:"condition",test:t,consequent:e,alternate:r}},logic:function(t,e,r){return{type:"logic",op:t,left:e,right:r}},binary:function(t,e,r){return{type:"binary",op:t,left:e,right:r}},unary:function(t,e){return{type:"logic",op:t,arg:e}},call:function(t,e){return{type:"call",callee:t,args:e}},member:function(t,e,r){return{type:"member",obj:t,prop:e,isComputed:r}}}}),t.register("terminator/src/parser/Parser2.js",function(t,e,r){function n(t,e){e=e||{},this.input=t,this.tokens=new u(t,e).lex(),this.pos=0,this.length=this.tokens.length}var i=e("../util.js"),s=e("./node.js"),u=e("./Lexer.js"),a=i.varName,o=i.makePredicate("STRING IDENT NUMBER"),h=i.makePredicate("true false undefined null"),l=n.prototype;l.parse=function(){return this.pos=0,this.program()},l.ll=function(t){t=t||1,0>t&&(t+=1);var e=this.pos+t-1;return e>this.length-1?this.tokens[this.length-1]:this.tokens[e]},l.la=function(t){return(this.ll(t)||"").type},l.match=function(t,e){if(r=this.eat(t,e))return r;var r=this.ll();this.error("expect ["+t+(null==e?"":":"+e)+']" -> got "['+r.type+(null==e?"":":"+r.value)+"]",r.pos)},l.error=function(t,e){throw"Parse Error: "+t+":\n"+i.trackErrorPos(this.input,null!=e?e:this.ll().pos)},l.next=function(t){t=t||1,this.pos+=t},l.eat=function(t,e){var r=this.ll();if("string"!=typeof t){for(var n=t.length;n--;)if(r.type==t[n])return this.next(),r}else if(r.type==t&&("undefined"==typeof e||r.value==e))return this.next(),r;return!1},l.isEmpty=function(t){return!t||t.length},l.program=function(){for(var t=[],e=this.ll();"EOF"!==e.type&&"TAG_CLOSE"!==e.type;)t.push(this.statement()),e=this.ll();return t},l.statements=function(t){for(var e,r=[];!(e=this.eat("CLOSE",t));)r.push(this.statement());return r},l.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var e=t.value;for(this.next();t=this.eat(["NAME","TEXT"]);)e+=t.value;return e;case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},l.xml=function(){var t,e,r,n;return t=this.match("TAG_OPEN").value,e=this.attrs(),n=this.eat("/"),this.match(">"),n||(r=this.program(),this.eat("TAG_CLOSE",t)||this.error("expect </"+t+"> gotno matched closeTag")),s.element(t,e,r)},l.attrs=function(){var t=this.ll();if("NAME"===t.type){var e,r=[];do e={name:t.value},this.eat("=")&&(e.value=this.attvalue()),r.push(e);while(t=this.eat("NAME"))}},l.attvalue=function(){var t=this.ll();switch(t.type){case"NAME":case"STRING":return this.next(),t.value;case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}return t.value},l.directive=function(t){return t=t||this.ll().value,"function"==typeof this[t]?this[t]():void this.error("Undefined directive["+t+"]")},l.interplation=function(){var t=this.match("EXPR_OPEN").escape,e=this.expr(!0);return this.match("END"),s.interplation(e,t)},l.if=function(){this.next();var t=this.expr(),e=[],r=[],n=e;this.match("END");for(var i,u;!(u=this.eat("CLOSE"));)if(i=this.ll(),"OPEN"==i.type)switch(i.value){case"else":n=r,this.next(),this.match("END");break;case"elseif":return r.push(this.if()),s.if(t,e,r);default:n.push(this.statement())}else n.push(this.statement());return"if"!==u.value&&this.error("Unmatched if directive"),s.if(t,e,r)},l.list=function(){this.next();var t,e,r=this.expr(),n=[],i=[],u=n;for(this.match("IDENT","as"),t=this.match("IDENT").value,this.match("END");!(e=this.eat("CLOSE"));)this.eat("OPEN","else")?(u=i,this.match("END")):u.push(this.statement());return"list"!==e.value&&this.error("expect {/list} got {/"+e.value+"}",e.pos),s.list(r,t,n,i)},l.expr=function(t){this.deps=[];var e;return e=t?this.filter():this.condition(),this.deps.length?s.expression(e,this.deps):new Function("return ("+e+")")()},l.filter=function(t){var e,r,n=this.condition(t),s=this.eat("|");if(s){e=[";(function(data){","var ",r=i.attrName(),"=",this.condition(t),";"];do e.push(r+" = tn.f["+this.match("IDENT").value+"]("+r),e.push(this.eat(":")?", "+this.arguments(t,"|").join(",")+");":");");while(s=this.eat("|"));return e.push("return "+r+"}"),e.join("")}return n},l.condition=function(t){var e=this.or();return this.eat("?")?[e+"?",this.assign(t),this.match(":").type,this.condition(t)].join(""):e},l.or=function(){var t=this.and();return this.eat("||")?t+"||"+this.or():t},l.and=function(){var t=this.equal();return this.eat("&&")?t+"&&"+this.and():t},l.equal=function(){var t=this.relation();return(ll=this.eat(["==","!=","===","!=="]))?t+ll.type+this.equal():t},l.relation=function(){var t=this.additive();return(ll=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?t+ll.value+this.relation():t},l.additive=function(){var t,e=this.multive();return(t=this.eat(["+","-"]))?e+t.value+this.additive():e},l.multive=function(){var t,e=this.unary();return(t=this.eat(["*","/","%"]))?e+t.type+this.multive():e},l.unary=function(){var t;return(t=this.eat(["+","-","~","!"]))?"("+t.type+this.unary()+")":this.member()},l.member=function(t,e){var r,n,i;if(!t){if(n=this.primary(),"IDENT"!==n.type||h(n.value))return n.type?"STRING"===n.type?"'"+n.value+"'":n.value:n;e=[],e.push(n.value),t=a+"['"+n.value+"']"}if(r=this.eat(["[",".","("]))switch(r.type){case".":return t+="['"+(i=this.match("IDENT").value)+"']",e&&e.push(i),this.member(t,e);case"[":return n=this.expr(),t+="['"+(n.value||n)+"']",e&&n.type&&o(n.type)?e.push(n.value):(this.deps.push(e),e=null),this.match("]"),this.member(t,e);case"(":return t+="("+this.arguments().join(",")+")",this.match(")"),this.deps.push(e),this.member(t)}return e&&this.deps.push(e),t},l.arguments=function(t){t=t||")";var e=[];do this.la()!==t&&e.push(this.condition());while(this.eat(","));return e},l.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"IDENT":case"STRING":case"NUMBER":return this.next(),t;default:this.error("Unexpected Token: "+t.type)}},l.object=function(){for(var t,e=[this.match("{").type];;){if(t=this.eat(["STRING","IDENT","NUMBER"]),!t){e.push(this.match("}").type);break}e.push(t.value+this.match(":").type),e.push(this.condition()),this.eat(",")&&e.push(",")}return e.join("")},l.array=function(){for(var t=[this.match("[").type];item=this.condition();)t.push(item),this.eat(",")&&this.push(",");return t.push(this.match("]").type),t.join("")},l.paren=function(){return this.match("(").type+this.expr()+this.match(")").type},r.exports=n}),t.alias("terminator/src/browser.js","terminator/index.js"),"object"==typeof exports?module.exports=t("terminator"):"function"==typeof define&&define.amd?define(function(){return t("terminator")}):window.terminator=t("terminator")}();