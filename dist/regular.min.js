!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.Regular=e():t.Regular=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1),i=n(2),o=t.exports=n(3),a=o.Parser,s=o.Lexer;r.browser&&(n(6),n(7),n(8),o.dom=n(4)),o.env=r,o.util=n(5),o.parse=function(t,e){e=e||{},(e.BEGIN||e.END)&&(e.BEGIN&&(i.BEGIN=e.BEGIN),e.END&&(i.END=e.END),s.setup());var n=new a(t).parse();return e.stringify?JSON.stringify(n):n}},function(t,e,n){var r=n(5);e.svg=function(){return"undefined"!=typeof document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),e.browser="undefined"!=typeof document&&document.nodeType,e.exprCache=r.cache(1e3),e.isRunning=!1},function(t){t.exports={BEGIN:"{",END:"}"}},function(t,e,n){var r=n(1),i=n(14),o=n(15),a=n(2),s=n(5),u=n(16),c={};if(r.browser){var f=n(4),h=n(9),l=n(10),p=f.doc;c=n(17)}var d=n(18),v=n(19),m=n(20),g=n(21),y=(n(27),function(t,e){var n=r.isRunning;r.isRunning=!0;var i,a;t=t||{},e=e||{},t.data=t.data||{},t.computed=t.computed||{},t.events=t.events||{},this.data&&s.extend(t.data,this.data),this.computed&&s.extend(t.computed,this.computed),this.events&&s.extend(t.events,this.events),s.extend(this,t,!0),this.$parent&&this.$parent._append(this),this._children=[],this.$refs={},a=this.template,"string"==typeof a&&a.length<16&&(i=f.find(a))&&(a=i.innerHTML),a&&a.nodeType&&(a=a.innerHTML),"string"==typeof a&&(this.template=new o(a).parse()),this.computed=E(this.computed),this.$root=this.$root||this,this.events&&this.$on(this.events),this.$emit("$config"),this.config&&this.config(this.data),this._body&&this._body.length&&(this.$body=s.getCompileFn(this._body,this.$parent,{outer:this,namespace:e.namespace,extra:e.extra,record:!0}),this._body=null),a&&(this.group=this.$compile(this.template,{namespace:e.namespace}),c.node(this)),this.$parent||this.$update(),this.$ready=!0,this.$emit("$init"),this.init&&this.init(this.data),r.isRunning=n});h&&(h.Regular=y),s.extend(y,{_directives:{__regexp__:[]},_plugins:{},_protoInheritCache:["directive","use"],__after__:function(t,e){var n;if(this.__after__=t.__after__,e.name&&y.component(e.name,this),n=e.template){var r,i;"string"==typeof n&&n.length<16&&(r=f.find(n))&&(n=r.innerHTML,(i=f.attr(r,"name"))&&y.component(i,this)),n.nodeType&&(n=n.innerHTML),"string"==typeof n&&(this.prototype.template=new o(n).parse())}e.computed&&(this.prototype.computed=E(e.computed)),y._inheritConfig(this,t)},directive:function(t,e){if("object"===s.typeOf(t)){for(var n in t)t.hasOwnProperty(n)&&this.directive(n,t[n]);return this}var r,i=s.typeOf(t),o=this._directives;if(null==e){if("string"===i&&(r=o[t]))return r;for(var a=o.__regexp__,u=0,c=a.length;c>u;u++){r=a[u];var f=r.regexp.test(t);if(f)return r}return void 0}return"function"==typeof e&&(e={link:e}),"string"===i?o[t]=e:"regexp"===i&&(e.regexp=t,o.__regexp__.push(e)),this},plugin:function(t,e){var n=this._plugins;return null==e?n[t]:(n[t]=e,this)},use:function(t){return"string"==typeof t&&(t=y.plugin(t)),"function"!=typeof t?this:(t(this,y),this)},config:function(t){var e=!1;if("object"==typeof t)for(var n in t)("END"===n||"BEGIN"===n)&&(e=!0),a[n]=t[n];e&&i.setup()},expression:m.expression,Parser:o,Lexer:i,_addProtoInheritCache:function(t,e){if(Array.isArray(t))return t.forEach(y._addProtoInheritCache);var n="_"+t+"s";y._protoInheritCache.push(t),y[n]={},y[t]||(y[t]=function(r,i){var o=this[n];if("object"==typeof r){for(var a in r)r.hasOwnProperty(a)&&this[t](a,r[a]);return this}return null==i?o[r]:(o[r]=e?e(i):i,this)})},_inheritConfig:function(t,e){var n=y._protoInheritCache,r=s.slice(n);return r.forEach(function(n){t[n]=e[n];var r="_"+n+"s";e[r]&&(t[r]=s.createObject(e[r]))}),t}}),u(y),y._addProtoInheritCache("component"),y._addProtoInheritCache("filter",function(t){return"function"==typeof t?{get:t}:t}),d.mixTo(y),v.mixTo(y),y.implement({init:function(){},config:function(){},destroy:function(){this.$emit("$destroy"),this.group&&this.group.destroy(!0),this.group=null,this.parentNode=null,this._watchers=null,this._children=[];var t=this.$parent;if(t){var e=t._children.indexOf(this);t._children.splice(e,1)}this.$parent=null,this.$root=null,this._handles=null,this.$refs=null},$compile:function(t,e){e=e||{},"string"==typeof t&&(t=new o(t).parse());var n,r=this.__ext__,i=e.record;e.extra&&(this.__ext__=e.extra),i&&this._record();var a=this._walk(t,e);if(i){n=this._release();var s=this;n.length&&(a.ondestroy=function(){s.$unwatch(n)})}return e.extra&&(this.__ext__=r),a},$bind:function(t,e,n){var r=s.typeOf(e);if("expression"===e.type||"string"===r)this._bind(t,e,n);else if("array"===r)for(var i=0,o=e.length;o>i;i++)this._bind(t,e[i]);else if("object"===r)for(var i in e)e.hasOwnProperty(i)&&this._bind(t,i,e[i]);return t.$update(),this},$unbind:function(){},$inject:c.inject,$mute:function(t){t=!!t;var e=t===!1&&this._mute;return this._mute=!!t,e&&this.$update(),this},_bind:function(t,e,n){var r=this;if(!(t&&t instanceof y))throw"$bind() should pass Regular component as first argument";if(!e)throw"$bind() should  pass as least one expression to bind";if(n||(n=e),e=m.expression(e),n=m.expression(n),n.set){var i=this.$watch(e,function(e){t.$update(n,e)});t.$on("$destroy",function(){r.$unwatch(i)})}if(e.set){var o=t.$watch(n,function(t){r.$update(e,t)});this.$on("$destroy",t.$unwatch.bind(t,o))}n.set(t,e.get(this))},_walk:function(t,e){if("array"===s.typeOf(t)){for(var n=[],r=0,i=t.length;i>r;r++)n.push(this._walk(t[r],e));return new l(n)}return"string"==typeof t?p.createTextNode(t):h[t.type||"default"].call(this,t,e)},_append:function(t){this._children.push(t),t.$parent=this},_handleEvent:function(t,e,n,r){var i,o=this.constructor,a="function"!=typeof n?s.handleEvent.call(this,n,e):n,u=o.event(e);return u?i=u.call(this,t,a,r):f.on(t,e,a),u?i:function(){f.off(t,e,a)}},_touchExpr:function(t){var e,n=this.__ext__,r={};if("expression"!==t.type||t.touched)return t;if(e=t.get||(t.get=new Function(s.ctxName,s.extName,s.prefix+"return ("+t.body+")")),r.get=n?function(t){return e(t,n)}:e,t.setbody&&!t.set){var i=t.setbody;t.set=function(e,n,r){return t.set=new Function(s.ctxName,s.setName,s.extName,s.prefix+i),t.set(e,n,r)},t.setbody=null}return t.set&&(r.set=n?function(e,r){return t.set(e,r,n)}:t.set),s.extend(r,{type:"expression",touched:!0,once:t.once||t.constant}),r},_f_:function(t){var e=this.constructor,n=e.filter(t);if(!n)throw Error("filter "+t+" is undefined");return n},_sg_:function(t,e,n){if("undefined"!=typeof n){var r=this.computed,i=r[t];if(i){if("expression"!==i.type||i.get||this._touchExpr(i),i.get)return i.get(this);s.log("the computed '"+t+"' don't define the get function,  get data."+t+" altnately","warn")}}return"undefined"==typeof e||"undefined"==typeof t?void 0:n&&"undefined"!=typeof n[t]?n[t]:e[t]},_ss_:function(t,e,n,r,i){var o,i=this.computed,r=r||"=",a=i?i[t]:null;if("="!==r)switch(o=a?a.get(this):n[t],r){case"+=":e=o+e;break;case"-=":e=o-e;break;case"*=":e=o*e;break;case"/=":e=o/e;break;case"%=":e=o%e}if(a){if(a.set)return a.set(this,e);s.log("the computed '"+t+"' don't define the set function,  assign data."+t+" altnately","warn")}return n[t]=e,e}}),y.prototype.inject=function(){return s.log("use $inject instead of inject","error"),this.$inject.apply(this,arguments)},y.filter(g),t.exports=y;var E=function(){function t(t){return function(e){return t.call(e,e.data)}}function e(t){return function(e,n){return t.call(e,n,e.data),n}}return function(n){if(n){var r,i,o,a={};for(var s in n)r=n[s],o=typeof r,"expression"!==r.type?"string"===o?a[s]=m.expression(r):(i=a[s]={type:"expression"},"function"===o?i.get=t(r):(r.get&&(i.get=t(r.get)),r.set&&(i.set=e(r.set)))):a[s]=r;return a}}}()},function(t,e,n){function r(t){return(""+t).replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()})}function i(t,e){return"change"===e&&u.msie<9&&t&&t.tagName&&"input"===t.tagName.toLowerCase()&&("checkbox"===t.type||"radio"===t.type)?"click":e}function o(t){if(t=t||window.event,t._fixed)return t;this.event=t,this.target=t.target||t.srcElement;var e=this.type=t.type,n=this.button=t.button;if(v.test(e)&&(this.pageX=null!=t.pageX?t.pageX:t.clientX+m.scrollLeft,this.pageY=null!=t.pageX?t.pageY:t.clientY+m.scrollTop,"mouseover"===e||"mouseout"===e)){for(var r=t.relatedTarget||t[("mouseover"===e?"from":"to")+"Element"];r&&3===r.nodeType;)r=r.parentNode;this.relatedTarget=r}("DOMMouseScroll"===e||"mousewheel"===e)&&(this.wheelDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),this.which=t.which||t.keyCode,this.which||void 0===n||(this.which=1&n?1:2&n?3:4&n?2:0),this._fixed=!0}var a,s,u=t.exports,c=n(1),f=n(5),h=document.createElement("div"),l=function(){},p={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};u.body=document.body,u.doc=document,u.tNode=h,h.addEventListener?(a=function(t,e,n){t.addEventListener(e,n,!1)},s=function(t,e,n){t.removeEventListener(e,n,!1)}):(a=function(t,e,n){t.attachEvent("on"+e,n)},s=function(t,e,n){t.detachEvent("on"+e,n)}),u.msie=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1]),isNaN(u.msie)&&(u.msie=parseInt((/trident\/.*; rv:(\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1])),u.find=function(t){if(document.querySelector)try{return document.querySelector(t)}catch(e){}return-1!==t.indexOf("#")?document.getElementById(t.slice(1)):void 0},u.inject=function(t,e,n){if(n=n||"bottom",t){if(Array.isArray(t)){var r=t;t=u.fragment();for(var i=0,o=r.length;o>i;i++)t.appendChild(r[i])}var a,s;switch(n){case"bottom":e.appendChild(t);break;case"top":(a=e.firstChild)?e.insertBefore(t,e.firstChild):e.appendChild(t);break;case"after":(s=e.nextSibling)?s.parentNode.insertBefore(t,s):e.parentNode.appendChild(t);break;case"before":e.parentNode.insertBefore(t,e)}}},u.id=function(t){return document.getElementById(t)},u.create=function(t,e){if("svg"===e){if(!c.svg)throw Error("the env need svg support");e=p.svg}return e?document.createElementNS(e,t):document.createElement(t)},u.fragment=function(){return document.createDocumentFragment()};var d={"class":function(t,e){"className"in t&&(t.namespaceURI===p.html||!t.namespaceURI)?t.className=e||"":t.setAttribute("class",e)},"for":function(t,e){"htmlFor"in t?t.htmlFor=e:t.setAttribute("for",e)},style:function(t,e){t.style?t.style.cssText=e:t.setAttribute("style",e)},value:function(t,e){t.value=null!=e?e:""}};u.attr=function(t,e,n){if(f.isBooleanAttr(e)){if("undefined"==typeof n)return t[e]||(t.attributes.getNamedItem(e)||l).specified?e:void 0;n?(t[e]=!0,t.setAttribute(e,e),u.msie&&u.msie<=7&&(t.defaultChecked=!0)):(t[e]=!1,t.removeAttribute(e))}else if("undefined"!=typeof n)d[e]?d[e](t,n):null===n?t.removeAttribute(e):t.setAttribute(e,n);else if(t.getAttribute){var r=t.getAttribute(e,2);return null===r?void 0:r}},u.on=function(t,e,n){var r=e.split(" ");n.real=function(e){var r=new o(e);r.origin=t,n.call(t,r)},r.forEach(function(e){e=i(t,e),a(t,e,n.real)})},u.off=function(t,e,n){var r=e.split(" ");n=n.real||n,r.forEach(function(e){e=i(t,e),s(t,e,n)})},u.text=function(){var t={};return u.msie&&u.msie<9?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",function(e,n){var r=t[e.nodeType];return null==n?r?e[r]:"":void(e[r]=n)}}(),u.html=function(t,e){return"undefined"==typeof e?t.innerHTML:void(t.innerHTML=e)},u.replace=function(t,e){e.parentNode&&e.parentNode.replaceChild(t,e)},u.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)},u.css=function(t,e,n){if("object"!==f.typeOf(e)){if("undefined"==typeof n){var i;return u.msie<=8&&(i=t.currentStyle&&t.currentStyle[e],""===i&&(i="auto")),i=i||t.style[e],u.msie<=8&&(i=""===i?void 0:i),i}e=r(e),e&&(t.style[e]=n)}else for(var o in e)e.hasOwnProperty(o)&&u.css(t,o,e[o])},u.addClass=function(t,e){var n=t.className||"";-1===(" "+n+" ").indexOf(" "+e+" ")&&(t.className=n?n+" "+e:e)},u.delClass=function(t,e){var n=t.className||"";t.className=(" "+n+" ").replace(" "+e+" "," ").trim()},u.hasClass=function(t,e){var n=t.className||"";return-1!==(" "+n+" ").indexOf(" "+e+" ")};var v=/^(?:click|dblclick|contextmenu|DOMMouseScroll|mouse(?:\w+))$/,m=document;m=m.compatMode&&"CSS1Compat"!==m.compatMode?m.body:m.documentElement,f.extend(o.prototype,{immediateStop:f.isFalse,stop:function(){this.preventDefault().stopPropagation()},preventDefault:function(){return this.event.preventDefault?this.event.preventDefault():this.event.returnValue=!1,this},stopPropagation:function(){return this.event.stopPropagation?this.event.stopPropagation():this.event.cancelBubble=!0,this},stopImmediatePropagation:function(){this.event.stopImmediatePropagation&&this.event.stopImmediatePropagation()}}),u.nextFrame=function(){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){setTimeout(t,16)},e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(t){clearTimeout(t)};return function(n){var r=t(n);return function(){e(r)}}}();var g;u.nextReflow=u.msie?function(t){return u.nextFrame(function(){g=document.body.offsetWidth,t()})}:u.nextFrame},function(t,e,n){(function(e){n(22)();var r=t.exports,i=n(23),o=[].slice,a={}.toString,s="undefined"!=typeof window?window:e;r.noop=function(){},r.uid=function(){var t=0;return function(){return t++}}(),r.extend=function(t,e,n){for(var r in e)("undefined"==typeof t[r]||n===!0)&&(t[r]=e[r]);return t},r.keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},r.varName="d",r.setName="p_",r.ctxName="c",r.extName="e",r.rWord=/^[\$\w]+$/,r.rSimpleAccessor=/^[\$\w]+(\.[\$\w]+)*$/,r.nextTick="function"==typeof setImmediate?setImmediate.bind(s):function(t){setTimeout(t,0)},r.prefix="var "+r.varName+"="+r.ctxName+".data;"+r.extName+"="+r.extName+"||'';",r.slice=function(t,e,n){for(var r=[],i=e||0,o=n||t.length;o>i;i++){var a=t[i];r.push(a)}return r},r.typeOf=function(t){return null==t?String(t):a.call(t).slice(8,-1).toLowerCase()},r.makePredicate=function(t){function e(t){if(1===t.length)return n+="return str === '"+t[0]+"';";n+="switch(str){";for(var e=0;e<t.length;++e)n+="case '"+t[e]+"':";n+="return true}return false;"}"string"==typeof t&&(t=t.split(" "));var n="",r=[];t:for(var i=0;i<t.length;++i){for(var o=0;o<r.length;++o)if(r[o][0].length===t[i].length){r[o].push(t[i]);continue t}r.push([t[i]])}if(r.length>3){r.sort(function(t,e){return e.length-t.length}),n+="switch(str.length){";for(var i=0;i<r.length;++i){var a=r[i];n+="case "+a[0].length+":",e(a)}n+="}"}else e(t);return new Function("str",n)},r.trackErrorPos=function(){function t(t,e){for(var n=0,r=0,i=t.length;i>r;r++){var o=(t[r]||"").length;if(n+o>e)return{num:r,line:t[r],start:e-r-n,prev:t[r-1],next:t[r+1]};n+=o}}function e(t,e,n,o){var a=t.length,s=e-r;0>s&&(s=0);var u=e+i;u>a&&(u=a);var c=t.slice(s,u),f="["+(n+1)+"] "+(s>0?"..":""),h=a>u?"..":"",l=f+c+h;return o&&(l+="\n"+new Array(e-s+f.length+1).join(" ")+"^^^"),l}var n=/\r\n|[\n\r\u2028\u2029]/g,r=20,i=20;return function(r,i){i>r.length-1&&(i=r.length-1),n.lastIndex=0;var o=r.split(n),a=t(o,i),s=a.start,u=a.num;return(a.prev?e(a.prev,s,u-1)+"\n":"")+e(a.line,s,u,!0)+"\n"+(a.next?e(a.next,s,u+1)+"\n":"")}}();var u=/\((\?\!|\?\:|\?\=)/g;r.findSubCapture=function(t){var e=0,n=0,r=t.length,i=t.match(u);for(i=i?i.length:0;r--;){var o=t.charAt(r);(0===r||"\\"!==t.charAt(r-1))&&("("===o&&e++,")"===o&&n++)}if(e!==n)throw"RegExp: "+t+"'s bracket is not marched";return e-i},r.escapeRegExp=function(t){return t.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(t){return"\\"+t})};var c=new RegExp("&(?:(#x[0-9a-fA-F]+)|(#[0-9]+)|("+r.keys(i).join("|")+"));","gi");r.convertEntity=function(t){return(""+t).replace(c,function(t,e,n,r){var o;return o=n?parseInt(n.slice(1),10):e?parseInt(e.slice(2),16):i[r],String.fromCharCode(o)})},r.createObject=function(t,e){function n(){}n.prototype=t;var i=new n;return e&&r.extend(i,e),i},r.createProto=function(t,e){function n(){this.constructor=t}return n.prototype=e,t.prototype=new n},r.clone=function(t){var e=r.typeOf(t);if("array"===e){for(var n=[],i=0,o=t.length;o>i;i++)n[i]=t[i];return n}if("object"===e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}return t},r.equals=function(t,e){var n=typeof t;return"number"===n&&"number"==typeof e&&isNaN(t)&&isNaN(e)?!0:t===e};var f=/-([a-z])/g;r.camelCase=function(t){return t.replace(f,function(t,e){return e.toUpperCase()})},r.throttle=function(t,e){var n,r,i,e=e||100,o=null,a=0,s=function(){a=+new Date,o=null,i=t.apply(n,r),n=r=null};return function(){var u=+new Date,c=e-(u-a);return n=this,r=arguments,0>=c||c>e?(clearTimeout(o),o=null,a=u,i=t.apply(n,r),n=r=null):o||(o=setTimeout(s,c)),i}},r.escape=function(){var t=/&/g,e=/</g,n=/>/g,r=/\'/g,i=/\"/g,o=/[&<>\"\']/;return function(a){return o.test(a)?a.replace(t,"&amp;").replace(e,"&lt;").replace(n,"&gt;").replace(r,"&#39;").replace(i,"&quot;"):a}}(),r.cache=function(t){t=t||1e3;var e=[],n={};return{set:function(t,r){return e.length>this.max&&(n[e.shift()]=void 0),void 0===n[t]&&e.push(t),n[t]=r,r},get:function(t){return void 0===t?n:n[t]},max:t,len:function(){return e.length}}},r.handleEvent=function(t){var e,n=this;return"expression"===t.type&&(e=t.get),e?function(t){n.data.$event=t;var r=e(n);r===!1&&t&&t.preventDefault&&t.preventDefault(),n.data.$event=void 0,n.$update()}:function(){var e=o.call(arguments);e.unshift(t),n.$emit.apply(n,e),n.$update()}},r.once=function(t){var e=0;return function(){0===e++&&t.apply(this,arguments)}},r.fixObjStr=function(t){return 0!==t.trim().indexOf("{")?"{"+t+"}":t},r.log=function(t,e){"undefined"!=typeof console&&console[e||"log"](t)},r.isVoidTag=r.makePredicate("area base br col embed hr img input keygen link menuitem meta param source track wbr r-content"),r.isBooleanAttr=r.makePredicate("selected checked disabled readonly required open autofocus controls autoplay compact loop defer multiple"),r.isFalse-function(){return!1},r.isTrue-function(){return!0},r.isExpr=function(t){return t&&"expression"===t.type},r.isGroup=function(t){return t.inject||t.$inject},r.getCompileFn=function(t,e,n){return e.$compile.bind(e,t,n)}}).call(e,function(){return this}())},function(t,e,n){var r=n(5),i=n(4),o=(n(24),n(3)),a=n(11);n(12),n(13),t.exports={"r-class":function(t,e){"string"==typeof e&&(e=r.fixObjStr(e)),this.$watch(e,function(e){var n=" "+t.className.replace(/\s+/g," ")+" ";for(var r in e)e.hasOwnProperty(r)&&(n=n.replace(" "+r+" "," "),e[r]===!0&&(n+=r+" "));t.className=n.trim()},!0)},"r-style":function(t,e){"string"==typeof e&&(e=r.fixObjStr(e)),this.$watch(e,function(e){for(var n in e)e.hasOwnProperty(n)&&i.css(t,n,e[n])},!0)},"r-hide":function(t,e){var n,r=null;this.$watch(e,function(e){var i=!!e;i!==r&&(r=i,i?t.onleave?n=t.onleave(function(){t.style.display="none",n=null}):t.style.display="none":(n&&n(),t.style.display="",t.onenter&&t.onenter()))})},"r-html":function(t,e){this.$watch(e,function(e){e=e||"",i.html(t,e)},{force:!0})},ref:{accept:a.COMPONENT_TYPE+a.ELEMENT_TYPE,link:function(t,e){var n,i=this.$refs||(this.$refs={});return r.isExpr(e)?this.$watch(e,function(e,r){n=e,i[r]===t&&(i[r]=null),n&&(i[n]=t)}):i[n=e]=t,function(){i[n]=null}}}},o.directive(t.exports)},function(t,e,n){function r(t){var e,n=[],r=0,i=o.noop,a={type:t,start:function(t){return e=o.uid(),"function"==typeof t&&(i=t),r>0?r=0:a.step(),a.compelete},compelete:function(){e=null,i&&i(),i=o.noop,r=0},step:function(){n[r]&&n[r](a.done.bind(a,e))},done:function(t){t===e&&(r<n.length-1?(r++,a.step()):a.compelete())},push:function(t){n.push(t)}};return a}function i(t,e){function n(t){u&&m.push(u),u=r(t)}function i(t,e){e&&t()}function o(t){return function(){delete t.onenter,delete t.onleave}}var a=this.constructor;e=e.trim();for(var s,u,h,l,p,d,v=e.split(";"),m=[],g=[],y=0,E=v.length;E>y;y++)if(s=v[y],p=s.split(":"),h=p[0]&&p[0].trim(),l=p[1]&&p[1].trim(),h)if(h!==c)if(h!==f){var d=a.animation(h);if(!d||!u)throw Error(d?"you should start with `on` or `event` in animation":"undefined animator 【"+h+"】");u.push(d.call(this,{element:t,done:u.done,param:l}))}else n(l),"leave"===l?(t.onleave=u.start,g.push(o(t))):"enter"===l?(t.onenter=u.start,g.push(o(t))):"on"+l in t?g.push(this._handleEvent(t,l,u.start)):(this.$on(l,u.start),g.push(this.$off.bind(this,l,u.start)));else n("when"),this.$watch(l,i.bind(this,u.start));return g.length?function(){g.forEach(function(t){t()})}:void 0}var o=n(5),a=n(24),s=(n(4),n(3)),u=/\s+/,c="when",f="on";s._addProtoInheritCache("animation"),s.animation({wait:function(t){var e=parseInt(t.param)||0;return function(t){setTimeout(t,e)}},"class":function(t){var e=t.param.split(","),n=e[0]||"",r=parseInt(e[1])||1;return function(e){a.startClassAnimate(t.element,n,e,r)}},call:function(t){var e=this.$expression(t.param).get,n=this;return function(t){e(n),n.$update(),t()}},emit:function(t){var e=t.param,n=e.split(","),r=n[0]||"",i=n[1]?this.$expression(n[1]).get:null;if(!r)throw Error("you shoud specified a eventname in emit command");var o=this;return function(t){o.$emit(r,i?i(o):void 0),t()}},style:function(t){var e,n={},r=t.param,i=r.split(",");return i.forEach(function(t){if(t=t.trim()){var r=t.split(u),i=r.shift(),o=r.join(" ");if(!i||!o)throw Error("invalid style in command: style");n[i]=o,e=!0}}),function(r){e?a.startStyleAnimate(t.element,n,r):r()}}}),s.directive("r-animation",i),s.directive("r-anim",i)},function(t,e,n){function r(t){t.implement({$timeout:function(t,e){return e=e||0,setTimeout(function(){t.call(this),this.$update()}.bind(this),e)},$interval:function(t,e){return e=e||1e3/60,setInterval(function(){t.call(this),this.$update()}.bind(this),e)}})}var i=n(3);i.plugin("timeout",r),i.plugin("$timeout",r)},function(t,e,n){function r(t,e,n){for(var r=[],i=0,o=t.length;o>i;i++){var a=this._walk(t[i],{element:e,fromElement:!0,attrs:t,extra:n});a&&r.push(a)}return r}var i=n(25),o=n(17),a=n(24),s=(n(26),n(10)),u=n(4),c=n(5),f=t.exports={};f.list=function(t,e){function n(t,e){for(var n=0;e>n;n++){var r=x.children.splice(t+1,1)[0];r&&r.destroy(!0)}}function r(n,r,i){for(var s=n;r>s;s++){var u=i[s],f={};f[b]=s,f[T]=u,f=c.createObject(y,f);var h=E.$compile(t.body,{extra:f,namespace:g,record:!0,outer:e.outer});h.data=f;var l=o.last(x.get(s));l.parentNode&&a.inject(o.node(h),l,"after"),x.children.splice(s+1,0,h)}}function u(t,e,n){for(var r=t;e>r;r++){var i=x.get(r+1);i.data[b]=r,i.data[T]=n[r]}}function h(t,e,o){e||(e=[]),t||(t=[]);var a=0,s=t.length;if(o||0===s&&0===e.length||(o=i(t,e)),o&&o.length){for(var c=0;c<o.length;c++){var f=o[c],h=f.index,l=f.removed,p=f.add,v=l.length;if(_&&v&&p){for(var m=Math.min(v,p),g=0;m>g;)d(t[h],h)!==d(l[0],h)&&(n(h,1),r(h,h+1,t)),l.shift(),p--,h++,g++;v=l.length}u(a,h,t),n(h,v),r(h,h+p,t),a=h+p-v,a=0>a?0:a}if(s>a)for(var c=a;s>c;c++){var y=x.get(c+1);y.data[b]=c}}}function l(t,e){t=t||[],e=e||[];var i=t.length||0,o=e.length||0,a=Math.min(i,o);u(0,a,t),o>i?n(i,o-i):i>o&&r(o,i,t)}function p(t,n,r){var i=t&&t.length,s=n&&n.length;if(!s&&i&&x.get(1)){var u=x.children.pop();u.destroy&&u.destroy(!0)}if(_===!0?l(t,n,r):h(t,n,r),!i&&w&&w.length){var c=E.$compile(w,{extra:y,record:!0,outer:e.outer,namespace:g});x.children.push(c),m.parentNode&&a.inject(o.node(c),m,"after")}}var d,v,m=(f.Regular,document.createComment("Regular list")),g=e.namespace,y=e.extra,E=this,x=new s([m]),b=t.variable+"_index",T=t.variable,w=t.alternate,_=t.track;return _&&_!==!0&&(_=this._touchExpr(_),v=c.createObject(y),d=function(t,e){return v[T]=t,v[b]=e,_.get(E,v)}),this.$watch(t.sequence,p,{init:!0,indexTrack:_===!0}),x},f.template=function(t,e){var n,n,r=t.content,i=document.createComment("inlcude"),o=e.namespace,a=e.extra,u=new s([i]);if(r){var c=this;this.$watch(r,function(t){var r=u.get(1);r&&(r.destroy(!0),u.children.pop()),t&&(u.push(n="function"==typeof t?t():c.$compile(t,{record:!0,outer:e.outer,namespace:o,extra:a})),i.parentNode&&n.$inject(i,"before"))},{init:!0})}return u};var h=0;f["if"]=function(t,e){var n,r,i=this,u=e.extra;if(e&&e.element){var c=function(a){a?(r&&o.destroy(r),t.consequent&&(n=i.$compile(t.consequent,{record:!0,element:e.element,extra:u}))):(n&&o.destroy(n),t.alternate&&(r=i.$compile(t.alternate,{record:!0,element:e.element,extra:u})))};return this.$watch(t.test,c,{force:!0}),{destroy:function(){n?o.destroy(n):r&&o.destroy(r)}}}var n,r,f=document.createComment("Regular if"+h++),l=new s;l.push(f);var p=null,d=e.namespace,c=function(s){var c=!!s;c!==p&&(p=c,l.children[1]&&(l.children[1].destroy(!0),l.children.pop()),c?t.consequent&&t.consequent.length&&(n=i.$compile(t.consequent,{record:!0,outer:e.outer,namespace:d,extra:u}),l.push(n),f.parentNode&&a.inject(o.node(n),f,"before")):t.alternate&&t.alternate.length&&(r=i.$compile(t.alternate,{record:!0,outer:e.outer,namespace:d,extra:u}),l.push(r),f.parentNode&&a.inject(o.node(r),f,"before")))};return this.$watch(t.test,c,{force:!0,init:!0}),l},f.expression=function(t){var e=document.createTextNode("");return this.$watch(t,function(t){u.text(e,""+(null==t?"":""+t))}),e},f.text=function(t){var e=document.createTextNode(c.convertEntity(t.text));return e};var l=/^on-(.+)$/;f.element=function(t,e){var n,i,s=t.attrs,h=this.constructor,l=t.children,p=e.namespace,d=e.extra,v=t.tag,m=h.component(v);if("r-content"===v)return c.log("r-content is deprecated, use {#inc this.$body} instead (`{#include}` as same)","warn"),this.$body&&this.$body();if(m||"r-component"===v)return e.Component=m,f.component.call(this,t,e);"svg"===v&&(p="svg"),l&&l.length&&(n=this.$compile(l,{outer:e.outer,namespace:p,extra:d})),i=u.create(v,p,s),n&&!c.isVoidTag(v)&&u.inject(o.node(n),i),t.touched||(s.sort(function(t,e){var n=h.directive(t.name),r=h.directive(e.name);return n&&r?(r.priority||1)-(n.priority||1):n?1:r?-1:"type"===e.name?1:-1}),t.touched=!0);var g=r.call(this,s,i,d);return{type:"element",group:n,node:function(){return i},last:function(){return i},destroy:function(t){t?a.remove(i,n?n.destroy.bind(n):c.noop):n&&n.destroy(),g.length&&g.forEach(function(t){t&&("function"==typeof t.destroy?t.destroy():t())})}}},f.component=function(t,e){for(var n,r,i,a,u=t.attrs,f=e.Component,h=this.constructor,p=e.extra,d=e.namespace,v=this,m={},g=0,y=u.length;y>g;g++){var E=u[g],x=this._touchExpr(void 0===E.value?!0:E.value);x.constant&&(x=E.value=x.get(this)),E.value&&E.value.constant===!0&&(x=x.get(this));var b=E.name;if(!E.event){var T=b.match(l);T&&(E.event=T[1])}if("cmpl"===E.mdf&&(x=c.getCompileFn(x,this,{record:!0,namespace:d,extra:p,outer:e.outer})),"is"===b&&!f){i=x;var w=this.$get(x,!0);if(f=h.component(w),"function"!=typeof f)throw new Error("component "+w+" has not registed!")}var _;(_=E.event)?(a=a||{},a[_]=c.handleEvent.call(this,x,_)):(b=E.name=c.camelCase(b),m[b]="expression"!==x.type?x:x.get(v),"ref"===b&&null!=x&&(r=x),"isolate"===b&&(n="expression"===x.type?x.get(v):parseInt(x===!0?3:x,10),m.isolate=n))}var N,$={data:m,events:a,$parent:2&n?null:this,$root:this.$root,$outer:e.outer,_body:t.children},e={namespace:d,extra:e.extra},k=new f($,e);r&&this.$refs&&(N=f.directive("ref").link,this.$on("$destroy",N.call(this,k,r))),r&&v.$refs&&(v.$refs[r]=k);for(var g=0,y=u.length;y>g;g++){var E=u[g],x=E.value||!0,b=E.name;"expression"!==x.type||E.event||(x=v._touchExpr(x),2&n||this.$watch(x,function(t,e){this.data[t]=e}.bind(k,b)),!x.set||1&n||k.$watch(b,v.$update.bind(v,x),{sync:!0}))}if(i&&"expression"===i.type){var S=new s;return S.push(k),this.$watch(i,function(t){var e=h.component(t);if(!e)throw new Error("component "+t+" has not registed!");var n=new e($),i=S.children.pop();S.push(n),n.$inject(o.last(i),"after"),i.destroy(),r&&(v.$refs[r]=n)},{sync:!0}),S}return k},f.attribute=function(t,e){var n=t,r=n.name,i=n.value||"",o=i.constant,a=this.constructor,s=a.directive(r),f=e.element,h=this;if(i=this._touchExpr(i),o&&(i=i.get(this)),s&&s.link){var l=s.link.call(h,f,i,r,e.attrs);return"function"==typeof l&&(l={destroy:l}),l}return"expression"===i.type?this.$watch(i,function(t){u.attr(f,r,t)},{init:!0}):c.isBooleanAttr(r)?u.attr(f,r,!0):u.attr(f,r,i),e.fromElement?void 0:{destroy:function(){u.attr(f,r,null)}}}},function(t,e,n){function r(t){this.children=t||[]}var i=n(5),o=n(17),a=i.extend(r.prototype,{destroy:function(t){o.destroy(this.children,t),this.ondestroy&&this.ondestroy(),this.children=null},get:function(t){return this.children[t]},push:function(t){this.children.push(t)}});a.inject=a.$inject=o.inject,t.exports=r},function(t){t.exports={COMPONENT_TYPE:1,ELEMENT_TYPE:2}},function(t,e,n){function r(t,e,n){if(n)for(var r,i=t.target;i&&i!==n;){for(var o=0,a=e.length;a>o;o++)r=e[o],r&&r.element===i&&r.fire(t);i=i.parentNode}}var i=n(5),o=n(4),a=n(3);a._addProtoInheritCache("event"),a.directive(/^on-\w+$/,function(t,e,n,r){if(n&&e){var i=n.split("-")[1];return this._handleEvent(t,i,e,r)}}),a.directive(/^(delegate|de)-\w+$/,function(t,e,n){function a(t){r(t,u[c],s.parentNode)}var s=this.$root,u=s._delegates||(s._delegates={});if(n&&e){var c=n.split("-")[1],f=i.handleEvent.call(this,e,c);u[c]||(u[c]=[],s.parentNode?o.on(s.parentNode,c,a):s.$on("$inject",function(t,e,n){var r=this.parentNode;n&&o.off(n,c,a),r&&o.on(this.parentNode,c,a)}),s.$on("$destroy",function(){s.parentNode&&o.off(s.parentNode,c,a),u[c]=null}));var h={element:t,fire:f};return u[c].push(h),function(){var t=u[c];if(t&&t.length)for(var e=0,n=t.length;n>e;e++)t[e]===h&&t.splice(e,1)}}})},function(t,e,n){function r(t,e){function n(){e.set(r,this.value),i.last=this.value,r.$update()}var r=this,i=this.$watch(e,function(e){var n=s.slice(t.getElementsByTagName("option"));n.forEach(function(n,r){n.value==e&&(t.selectedIndex=r)})});return u.on(t,"change",n),void 0===e.get(r)&&t.value&&e.set(r,t.value),function(){u.off(t,"change",n)}}function i(t,e){var n=this,r=this.$watch(e,function(e){t.value!==e&&(t.value=null==e?"":""+e)}),i=function(t){var i=this;if("cut"===t.type||"paste"===t.type)s.nextTick(function(){var t=i.value;e.set(n,t),r.last=t,n.$update()});else{var o=i.value;e.set(n,o),r.last=o,n.$update()}};return 9!==u.msie&&"oninput"in u.tNode?t.addEventListener("input",i):(u.on(t,"paste",i),u.on(t,"keyup",i),u.on(t,"cut",i),u.on(t,"change",i)),void 0===e.get(n)&&t.value&&e.set(n,t.value),function(){9!==u.msie&&"oninput"in u.tNode?t.removeEventListener("input",i):(u.off(t,"paste",i),u.off(t,"keyup",i),u.off(t,"cut",i),u.off(t,"change",i))}}function o(t,e){var n=this,r=this.$watch(e,function(e){u.attr(t,"checked",!!e)}),i=function(){var t=this.checked;e.set(n,t),r.last=t,n.$update()};return e.set&&u.on(t,"change",i),void 0===e.get(n)&&e.set(n,!!t.checked),function(){e.set&&u.off(t,"change",i)}}function a(t,e){var n=this,r=(this.$watch(e,function(e){t.checked=e==t.value?!0:!1}),function(){var t=this.value;e.set(n,t),n.$update()});return e.set&&u.on(t,"change",r),void 0===e.get(n)&&t.checked&&e.set(n,t.value),function(){e.set&&u.off(t,"change",r)}}var s=n(5),u=n(4),c=n(3),f={text:i,select:r,checkbox:o,radio:a};c.directive("r-model",function(t,e){var n=t.tagName.toLowerCase(),r=n;return"input"===r?r=t.type||"text":"textarea"===r&&(r="text"),"string"==typeof e&&(e=this.$expression(e)),f[r]?f[r].call(this,t,e):"input"===n?f.text.call(this,t,e):void 0})},function(t,e,n){function r(t){return function(e){return{type:t,value:e}}}function i(t,e){h[f.END]&&(this.markStart=h[f.END],this.markEnd=f.END),this.input=(t||"").trim(),this.opts=e||{},this.map=2!==this.opts.mode?s:u,this.states=["INIT"],e&&e.expression&&(this.states.push("JST"),this.expression=!0)}function o(t){for(var e,n,r={},i=0,o=t.length;o>i;i++)e=t[i],n=e[2]||"INIT",(r[n]||(r[n]={rules:[],links:[]})).rules.push(e);return a(r)}function a(t){function e(t,e){return"string"==typeof l[e]?c.escapeRegExp(l[e]):String(l[e]).slice(1,-1)}var n,i,o,a,s,u,f;for(var h in t){n=t[h],n.curIndex=1,i=n.rules,o=[];
for(var p=0,d=i.length;d>p;p++)f=i[p],s=f[0],a=f[1],"string"==typeof a&&(a=r(a)),"regexp"===c.typeOf(s)&&(s=s.toString().slice(1,-1)),s=s.replace(/\{(\w+)\}/g,e),u=c.findSubCapture(s)+1,n.links.push([n.curIndex,u,a]),n.curIndex+=u,o.push(s);n.TRUNK=new RegExp("^(?:("+o.join(")|(")+"))")}return t}var s,u,c=n(5),f=n(2),h={"}":"{","]":"["},l={NAME:/(?:[:_A-Za-z][-\.:_0-9A-Za-z]*)/,IDENT:/[\$_A-Za-z][_0-9A-Za-z\$]*/,SPACE:/[\r\n\t\f ]/},p=/a|(b)/.exec("a"),d=p&&void 0===p[1]?function(t){return void 0!==t}:function(t){return!!t},v=i.prototype;v.lex=function(t){t=(t||this.input).trim();var e,n,r,i,o,a=[];this.input=t,this.marks=0,this.index=0;for(var s=0;t;)s++,o=this.state(),e=this.map[o],n=e.TRUNK.exec(t),n||this.error("Unrecoginized Token"),r=n[0].length,t=t.slice(r),i=this._process.call(this,n,e,t),i&&a.push(i),this.index+=r;return a.push({type:"EOF"}),a},v.error=function(t){throw Error("Parse Error: "+t+":\n"+c.trackErrorPos(this.input,this.index))},v._process=function(t,e,n){for(var r,i=e.links,o=!1,a=i.length,s=0;a>s;s++){var u=i[s],c=u[2],f=u[0];if(d(t[f])){o=!0,c&&(r=c.apply(this,t.slice(f,f+u[1])),r&&(r.pos=this.index));break}}if(!o)switch(n.charAt(0)){case"<":this.enter("TAG");break;default:this.enter("JST")}return r},v.enter=function(t){return this.states.push(t),this},v.state=function(){var t=this.states;return t[t.length-1]},v.leave=function(t){var e=this.states;t&&e[e.length-1]!==t||e.pop()},i.setup=function(){l.END=f.END,l.BEGIN=f.BEGIN,s=o([m.ENTER_JST,m.ENTER_TAG,m.TEXT,m.TAG_NAME,m.TAG_OPEN,m.TAG_CLOSE,m.TAG_PUNCHOR,m.TAG_ENTER_JST,m.TAG_UNQ_VALUE,m.TAG_STRING,m.TAG_SPACE,m.TAG_COMMENT,m.JST_OPEN,m.JST_CLOSE,m.JST_COMMENT,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT]),u=o([m.ENTER_JST2,m.TEXT,m.JST_COMMENT,m.JST_OPEN,m.JST_CLOSE,m.JST_EXPR_OPEN,m.JST_IDENT,m.JST_SPACE,m.JST_LEAVE,m.JST_NUMBER,m.JST_PUNCHOR,m.JST_STRING,m.JST_COMMENT])};var m={ENTER_JST:[/[^\x00<]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_JST2:[/[^\x00]*?(?={BEGIN})/,function(t){return this.enter("JST"),t?{type:"TEXT",value:t}:void 0}],ENTER_TAG:[/[^\x00]*?(?=<[\w\/\!])/,function(t){return this.enter("TAG"),t?{type:"TEXT",value:t}:void 0}],TEXT:[/[^\x00]+/,"TEXT"],TAG_NAME:[/{NAME}/,"NAME","TAG"],TAG_UNQ_VALUE:[/[^\{}&"'=><`\r\n\f\t ]+/,"UNQ","TAG"],TAG_OPEN:[/<({NAME})\s*/,function(t,e){return{type:"TAG_OPEN",value:e}},"TAG"],TAG_CLOSE:[/<\/({NAME})[\r\n\f\t ]*>/,function(t,e){return this.leave(),{type:"TAG_CLOSE",value:e}},"TAG"],TAG_ENTER_JST:[/(?={BEGIN})/,function(){this.enter("JST")},"TAG"],TAG_PUNCHOR:[/[\>\/=&]/,function(t){return">"===t&&this.leave(),{type:t,value:t}},"TAG"],TAG_STRING:[/'([^']*)'|"([^"]*)\"/,function(t,e,n){var r=e||n||"";return{type:"STRING",value:r}},"TAG"],TAG_SPACE:[/{SPACE}+/,null,"TAG"],TAG_COMMENT:[/<\!--([^\x00]*?)--\>/,function(){this.leave()},"TAG"],JST_OPEN:["{BEGIN}#{SPACE}*({IDENT})",function(t,e){return{type:"OPEN",value:e}},"JST"],JST_LEAVE:[/{END}/,function(t){return this.markEnd===t&&this.expression?{type:this.markEnd,value:this.markEnd}:this.markEnd&&this.marks?(this.marks--,{type:this.markEnd,value:this.markEnd}):(this.firstEnterStart=!1,this.leave("JST"),{type:"END"})},"JST"],JST_CLOSE:[/{BEGIN}\s*\/({IDENT})\s*{END}/,function(t,e){return this.leave("JST"),{type:"CLOSE",value:e}},"JST"],JST_COMMENT:[/{BEGIN}\!([^\x00]*?)\!{END}/,function(){this.leave()},"JST"],JST_EXPR_OPEN:["{BEGIN}",function(t){if(t===this.markStart){if(this.expression)return{type:this.markStart,value:this.markStart};if(this.firstEnterStart||this.marks)return this.marks++,this.firstEnterStart=!1,{type:this.markStart,value:this.markStart};this.firstEnterStart=!0}return{type:"EXPR_OPEN",escape:!1}},"JST"],JST_IDENT:["{IDENT}","IDENT","JST"],JST_SPACE:[/[ \r\n\f]+/,null,"JST"],JST_PUNCHOR:[/[=!]?==|[-=><+*\/%\!]?\=|\|\||&&|\@\(|\.\.|[<\>\[\]\(\)\-\|\{}\+\*\/%?:\.!,]/,function(t){return{type:t,value:t}},"JST"],JST_STRING:[/'([^']*)'|"([^"]*)"/,function(t,e,n){return{type:"STRING",value:e||n||""}},"JST"],JST_NUMBER:[/(?:[0-9]*\.[0-9]+|[0-9]+)(e\d+)?/,function(t){return{type:"NUMBER",value:parseFloat(t,10)}},"JST"]};i.setup(),t.exports=i},function(t,e,n){function r(t,e){e=e||{},this.input=t,this.tokens=new s(t,e).lex(),this.pos=0,this.length=this.tokens.length}var i=n(5),o=n(2),a=n(26),s=n(14),u=i.varName,c=i.ctxName,f=i.extName,h=i.makePredicate("STRING IDENT NUMBER"),l=i.makePredicate("true false undefined null this Array Date JSON Math NaN RegExp decodeURI decodeURIComponent encodeURI encodeURIComponent parseFloat parseInt Object"),p=r.prototype;p.parse=function(){this.pos=0;var t=this.program();return"TAG_CLOSE"===this.ll().type&&this.error("You may got a unclosed Tag"),t},p.ll=function(t){t=t||1,0>t&&(t+=1);var e=this.pos+t-1;return e>this.length-1?this.tokens[this.length-1]:this.tokens[e]},p.la=function(t){return(this.ll(t)||"").type},p.match=function(t,e){var n;return(n=this.eat(t,e))?n:(n=this.ll(),void this.error("expect ["+t+(null==e?"":":"+e)+']" -> got "['+n.type+(null==e?"":":"+n.value)+"]",n.pos))},p.error=function(t,e){throw t="\n【 parse failed 】 "+t+":\n\n"+i.trackErrorPos(this.input,"number"==typeof e?e:this.ll().pos||0),new Error(t)},p.next=function(t){t=t||1,this.pos+=t},p.eat=function(t,e){var n=this.ll();if("string"!=typeof t){for(var r=t.length;r--;)if(n.type===t[r])return this.next(),n}else if(n.type===t&&("undefined"==typeof e||n.value===e))return this.next(),n;return!1},p.program=function(){for(var t=[],e=this.ll();"EOF"!==e.type&&"TAG_CLOSE"!==e.type;)t.push(this.statement()),e=this.ll();return t},p.statement=function(){var t=this.ll();switch(t.type){case"NAME":case"TEXT":var e=t.value;for(this.next();t=this.eat(["NAME","TEXT"]);)e+=t.value;return a.text(e);case"TAG_OPEN":return this.xml();case"OPEN":return this.directive();case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.xml=function(){var t,e,n,r;return t=this.match("TAG_OPEN").value,e=this.attrs(),r=this.eat("/"),this.match(">"),r||i.isVoidTag(t)||(n=this.program(),this.eat("TAG_CLOSE",t)||this.error("expect </"+t+"> gotno matched closeTag")),a.element(t,e,n)},p.xentity=function(t){var e,n,r=t.value;if("NAME"===t.type){if(~r.indexOf(".")){var i=r.split(".");r=i[0],n=i[1]}return this.eat("=")&&(e=this.attvalue(n)),a.attribute(r,e,n)}return"if"!==r&&this.error("current version. ONLY RULE #if #else #elseif is valid in tag, the rule #"+r+" is invalid"),this["if"](!0)},p.attrs=function(t){var e;e=t?["NAME"]:["NAME","OPEN"];for(var n,r=[];n=this.eat(e);)r.push(this.xentity(n));return r},p.attvalue=function(t){var e=this.ll();switch(e.type){case"NAME":case"UNQ":case"STRING":this.next();var n=e.value;if(~n.indexOf(o.BEGIN)&&~n.indexOf(o.END)&&"cmpl"!==t){var i=!0,s=new r(n,{mode:2}).parse();if(1===s.length&&"expression"===s[0].type)return s[0];var u=[];s.forEach(function(t){t.constant||(i=!1),u.push(t.body||"'"+t.text.replace(/'/g,"\\'")+"'")}),u="["+u.join(",")+"].join('')",n=a.expression(u,null,i)}return n;case"EXPR_OPEN":return this.interplation();default:this.error("Unexpected token: "+this.la())}},p.directive=function(){var t=this.ll().value;return this.next(),"function"==typeof this[t]?this[t]():void this.error("Undefined directive["+t+"]")},p.interplation=function(){this.match("EXPR_OPEN");var t=this.expression(!0);return this.match("END"),t},p.inc=p.include=function(){var t=this.expression();return this.match("END"),a.template(t)},p["if"]=function(t){var e=this.expression(),n=[],r=[],i=n,o=t?"attrs":"statement";this.match("END");for(var s,u;!(u=this.eat("CLOSE"));)if(s=this.ll(),"OPEN"===s.type)switch(s.value){case"else":i=r,this.next(),this.match("END");break;case"elseif":return this.next(),r.push(this["if"](t)),a["if"](e,n,r);default:i.push(this[o](!0))}else i.push(this[o](!0));return"if"!==u.value&&this.error("Unmatched if directive"),a["if"](e,n,r)},p.list=function(){var t,e,n,r=this.expression(),i=[],o=[],s=i;for(this.match("IDENT","as"),t=this.match("IDENT").value,this.eat("IDENT","by")&&(this.eat("IDENT",t+"_index")?n=!0:(n=this.expression(),n.constant&&(n=!0))),this.match("END");!(e=this.eat("CLOSE"));)this.eat("OPEN","else")?(s=o,this.match("END")):s.push(this.statement());return"list"!==e.value&&this.error("expect list got /"+e.value+" ",e.pos),a.list(r,t,i,o,n)},p.expression=function(){var t;return this.eat("@(")?(t=this.expr(),t.once=!0,this.match(")")):t=this.expr(),t},p.expr=function(){this.depend=[];var t=this.filter(),e=t.get||t,n=t.set;return a.expression(e,n,!this.depend.length)},p.filter=function(){var t,e,n,r=this.assign(),o=this.eat("|"),a=[],s="t",u=r.set,f="";if(o){u&&(t=[]),e="(function("+s+"){";do f=s+" = "+c+"._f_('"+this.match("IDENT").value+"' ).get.call( "+i.ctxName+","+s,f+=this.eat(":")?", "+this.arguments("|").join(",")+");":");",a.push(f),t&&t.unshift(f.replace(" ).get.call"," ).set.call"));while(o=this.eat("|"));return a.push("return "+s),t&&t.push("return "+s),n=e+a.join("")+"})("+r.get+")",t&&(u=u.replace(i.setName,e+t.join("")+"})("+i.setName+")")),this.getset(n,u)}return r},p.assign=function(){var t,e=this.condition();return(t=this.eat(["=","+=","-=","*=","/=","%="]))?(e.set||this.error("invalid lefthand expression in assignment expression"),this.getset(e.set.replace(","+i.setName,","+this.condition().get).replace("'='","'"+t.type+"'"),e.set)):e},p.condition=function(){var t=this.or();return this.eat("?")?this.getset([t.get+"?",this.assign().get,this.match(":").type,this.assign().get].join("")):t},p.or=function(){var t=this.and();return this.eat("||")?this.getset(t.get+"||"+this.or().get):t},p.and=function(){var t=this.equal();return this.eat("&&")?this.getset(t.get+"&&"+this.and().get):t},p.equal=function(){var t,e=this.relation();return(t=this.eat(["==","!=","===","!=="]))?this.getset(e.get+t.type+this.equal().get):e},p.relation=function(){var t,e=this.additive();return(t=this.eat(["<",">",">=","<="])||this.eat("IDENT","in"))?this.getset(e.get+t.value+this.relation().get):e},p.additive=function(){var t,e=this.multive();return(t=this.eat(["+","-"]))?this.getset(e.get+t.value+this.additive().get):e},p.multive=function(){var t,e=this.range();return(t=this.eat(["*","/","%"]))?this.getset(e.get+t.type+this.multive().get):e},p.range=function(){var t,e,n=this.unary();if(t=this.eat("..")){e=this.unary();var r="(function(start,end){var res = [],step=end>start?1:-1; for(var i = start; end>start?i <= end: i>=end; i=i+step){res.push(i); } return res })("+n.get+","+e.get+")";return this.getset(r)}return n},p.unary=function(){var t;return(t=this.eat(["+","-","~","!"]))?this.getset("("+t.type+this.unary().get+")"):this.member()},p.member=function(t,e,n,r){var o,a,s,l=!1;if(t)"string"==typeof e&&h(e)?n.push(e):(n&&n.length&&this.depend.push(n),n=null);else{a=this.primary();var p=typeof a;"string"===p?(n=[],n.push(a),e=a,s=f+"."+a,t=c+"._sg_('"+a+"', "+u+", "+f+")",l=!0):"this"===a.get?(t=c,n=["this"]):(n=null,t=a.get)}if(o=this.eat(["[",".","("]))switch(o.type){case".":var d=this.match("IDENT").value;return r=t,"("!==this.la()?t=c+"._sg_('"+d+"', "+t+")":t+="['"+d+"']",this.member(t,d,n,r);case"[":return a=this.assign(),r=t,"("!==this.la()?t=c+"._sg_("+a.get+", "+t+")":t+="["+a.get+"]",this.match("]"),this.member(t,a,n,r);case"(":var v=this.arguments().join(",");return t=t+"("+v+")",this.match(")"),this.member(t,null,n)}n&&n.length&&this.depend.push(n);var m={get:t};return e&&(m.set=c+"._ss_("+(e.get?e.get:"'"+e+"'")+","+i.setName+","+(r?r:i.varName)+", '=', "+(l?1:0)+")"),m},p.arguments=function(t){t=t||")";var e=[];do this.la()!==t&&e.push(this.assign().get);while(this.eat(","));return e},p.primary=function(){var t=this.ll();switch(t.type){case"{":return this.object();case"[":return this.array();case"(":return this.paren();case"STRING":return this.next(),this.getset("'"+t.value+"'");case"NUMBER":return this.next(),this.getset(""+t.value);case"IDENT":return this.next(),l(t.value)?this.getset(t.value):t.value;default:this.error("Unexpected Token: "+t.type)}},p.object=function(){for(var t=[this.match("{").type],e=this.eat(["STRING","IDENT","NUMBER"]);e;){t.push("'"+e.value+"'"+this.match(":").type);var n=this.assign().get;t.push(n),e=null,this.eat(",")&&(e=this.eat(["STRING","IDENT","NUMBER"]))&&t.push(",")}return t.push(this.match("}").type),{get:t.join("")}},p.array=function(){var t,e=[this.match("[").type];if(this.eat("]"))e.push("]");else{for(;(t=this.assign())&&(e.push(t.get),this.eat(","));)e.push(",");e.push(this.match("]").type)}return{get:e.join("")}},p.paren=function(){this.match("(");var t=this.filter();return t.get="("+t.get+")",this.match(")"),t},p.getset=function(t,e){return{get:t,set:e}},t.exports=r},function(t,e,n){function r(t,e,n){return function(){var r=this.supr;this.supr=n[t];var i=e.apply(this,arguments);return this.supr=r,i}}function i(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(t[i]=s(e[i])&&s(n[i])&&a.test(e[i])?r(i,e[i],n):e[i])}var o=n(5),a=/xy/.test(function(){"xy"})?/\bsupr\b/:/.*/,s=function(t){return"function"==typeof t},u=["events","data","computed"],c=u.length;t.exports=function f(t){function e(){a.apply(this,arguments)}function n(t){for(var e=c;e--;){var n=u[e];t.hasOwnProperty(n)&&r.hasOwnProperty(n)&&(o.extend(r[n],t[n],!0),delete t[n])}return i(r,t,s),this}t=t||{};var r,a=this,s=a&&a.prototype||{};return"function"==typeof t?(r=t.prototype,t.implement=n,t.extend=f,t):(r=o.createProto(e,s),e.implement=n,e.implement(t),a.__after__&&a.__after__.call(e,a,t),e.extend=f,e)}},function(t,e,n){var r=n(4),i=n(24),o=t.exports={node:function(t){var e,n,r;if(t){if(t.element)return t.element;if("function"==typeof t.node)return t.node();if("number"==typeof t.nodeType)return t;if(t.group)return o.node(t.group);if(e=t.children){if(1===e.length)return o.node(e[0]);r=[];for(var i=0,a=e.length;a>i;i++)n=o.node(e[i]),Array.isArray(n)?r.push.apply(r,n):n&&r.push(n);return r}}},inject:function(t,e){var n=this,a=o.node(n.group||n);if(t===!1)return i.remove(a),n;if(!a)return n;if("string"==typeof t&&(t=r.find(t)),!t)throw Error("injected node is not found");if(i.inject(a,t,e),n.$emit){var s=n.parentNode,u="after"===e||"before"===e?t.parentNode:t;n.parentNode=u,n.$emit("$inject",t,e,s)}return n},last:function(t){var e=t.children;return"function"==typeof t.last?t.last():"number"==typeof t.nodeType?t:e&&e.length?o.last(e[e.length-1]):t.group?o.last(t.group):void 0},destroy:function(t,e){if(t){if(Array.isArray(t))for(var n=0,i=t.length;i>n;n++)o.destroy(t[n],e);var a=t.children;if("function"==typeof t.destroy)return t.destroy(e);"number"==typeof t.nodeType&&e&&r.remove(t),a&&a.length&&(o.destroy(a,!0),t.children=null)}}};r.element=function(t,e){if(!t)return e?[]:null;var n=o.node(t);if(1===n.nodeType)return e?[n]:n;for(var r=[],i=0;i<n.length;i++){var a=n[i];if(a&&1===a.nodeType){if(!e)return a;r.push(a)}}return e?r:r[0]}},function(t,e,n){function r(){}var i=[].slice,o=n(5),a={$on:function(t,e){if("object"==typeof t)for(var n in t)this.$on(n,t[n]);else{var r=this,i=r._handles||(r._handles={}),o=i[t]||(i[t]=[]);o.push(e)}return this},$off:function(t,e){var n=this;if(n._handles){t||(this._handles={});var r,i=n._handles;if(r=i[t]){if(!e)return i[t]=[],n;for(var o=0,a=r.length;a>o;o++)if(e===r[o])return r.splice(o,1),n}return n}},$emit:function(t){var e,n,r,o=this,a=o._handles;if(t){var n=i.call(arguments,1),r=t;if(!a)return o;if(e=a[r.slice(1)])for(var s=0,u=e.length;u>s;s++)e[s].apply(o,n);if(!(e=a[r]))return o;for(var c=0,u=e.length;u>c;c++)e[c].apply(o,n);return o}},$one:function(){}};o.extend(r.prototype,a),r.mixTo=function(t){t="function"==typeof t?t.prototype:t,o.extend(t,a)},t.exports=r},function(t,e,n){function r(){}var i=n(5),o=n(20).expression,a=n(25),s={$watch:function(t,e,n){var r,a,s,u,c=this.__ext__;this._watchers||(this._watchers=[]),n=n||{},n===!0&&(n={deep:!0});var f=i.uid("w_");if(Array.isArray(t)){for(var h=[],l=0,p=t.length;p>l;l++)h.push(this.$expression(t[l]).get);var d=[];s=function(t){for(var e=!0,n=0,r=h.length;r>n;n++){var o=h[n](t,c);i.equals(o,d[n])||(e=!1,d[n]=i.clone(o))}return e?!1:d}}else"function"==typeof t?r=t.bind(this):(t=this._touchExpr(o(t)),r=t.get,a=t.once);var v={id:f,get:r,fn:e,once:a,force:n.force,notld:n.indexTrack,test:s,deep:n.deep,last:n.sync?r(this):n.last};if(this._watchers.push(v),u=this._records&&this._records.length,u&&this._records[u-1].push(f),n.init===!0){var m=this.$phase;this.$phase="digest",this._checkSingleWatch(v,this._watchers.length-1),this.$phase=m}return v},$unwatch:function(t){if(t=t.uid||t,this._watchers||(this._watchers=[]),Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.$unwatch(t[e]);else{var r,i,o=this._watchers;if(!t||!o||!(i=o.length))return;for(;i--;)r=o[i],r&&r.id===t&&o.splice(i,1)}},$expression:function(t){return this._touchExpr(o(t))},$digest:function(){if("digest"!==this.$phase&&!this._mute){this.$phase="digest";for(var t=!1,e=0;t=this._digest();)if(++e>20)throw Error("there may a circular dependencies reaches");e>0&&this.$emit&&this.$emit("$update"),this.$phase=null}},_digest:function(){var t,e,n,r=this._watchers,i=!1;if(r&&r.length)for(var o=0,a=r.length;a>o;o++)e=r[o],n=this._checkSingleWatch(e,o),n&&(i=!0);if(t=this._children,t&&t.length)for(var s=0,u=t.length;u>s;s++){var c=t[s];c&&c._digest()&&(i=!0)}return i},_checkSingleWatch:function(t,e){var n=!1;if(t){var r,o,s,u,c,f;if(t.test){var h=t.test(this);h&&(n=!0,t.fn.apply(this,h))}else if(r=t.get(this),o=t.last,s=i.typeOf(o),u=i.typeOf(r),c=!0,f,"object"===u&&"object"===s&&t.deep){for(var l in r)if(o[l]!==r[l]){n=!0;break}if(n!==!0)for(var p in o)if(o[p]!==r[p]){n=!0;break}}else"array"!==u||"undefined"!=s&&"array"!==s?(c=i.equals(r,o),(!c||t.force)&&(t.force=null,n=!0)):(f=a(r,t.last||[],t.notld),("array"!==s||f===!0||f.length)&&(n=!0));return n&&!t.test&&(t.last="object"===u&&t.deep||"array"===u?i.clone(r):r,t.fn.call(this,r,o,f),t.once&&this._watchers.splice(e,1)),n}},$set:function(t,e){if(null!=t){var n=i.typeOf(t);if("string"===n||"expression"===t.type)t=this.$expression(t),t.set(this,e);else if("function"===n)t.call(this,this.data);else for(var r in t)this.$set(r,t[r])}},$get:function(t,e){return e&&"string"==typeof t?t:this.$expression(t).get(this)},$update:function(){this.$set.apply(this,arguments);var t=this;do{if(t.data.isolate||!t.$parent)break;t=t.$parent}while(t);t.$digest()},_record:function(){this._records||(this._records=[]),this._records.push([])},_release:function(){return this._records.pop()}};i.extend(r.prototype,s),r.mixTo=function(t){return t="function"==typeof t?t.prototype:t,i.extend(t,s)},t.exports=r},function(t,e,n){var r=n(1).exprCache,i=(n(5),n(15));t.exports={expression:function(t){return"string"==typeof t&&(t=t.trim())&&(t=r.get(t)||r.set(t,new i(t,{mode:2,expression:!0}).expression())),t?t:void 0},parse:function(t){return new i(t).parse()}}},function(t){var e=t.exports={};e.json={get:function(t){return"undefined"!=typeof JSON?JSON.stringify(t):t},set:function(t){return"undefined"!=typeof JSON?JSON.parse(t):t}},e.last=function(t){return t&&t[t.length-1]},e.average=function(t,n){return t=t||[],t.length?e.total(t,n)/t.length:0},e.total=function(t,e){var n=0;if(t)return t.forEach(function(t){n+=e?t[e]:t}),n}},function(t){function e(t,e){for(var n in e)void 0===t[n]&&(t[n]=e[n]);return e}var n=[].slice,r={}.toString;t.exports=function(){e(String.prototype,{trim:function(){return this.replace(/^\s+|\s+$/g,"")}}),e(Array.prototype,{indexOf:function(t,e){e=e||0;for(var n=e,r=this.length;r>n;n++)if(this[n]===t)return n;return-1},forEach:function(t,e){for(var n=0,r=this.length;r>n;n++)t.call(e,this[n],n,this)},filter:function(t,e){for(var n=[],r=0,i=this.length;i>r;r++){var o=t.call(e,this[r],r,this);o&&n.push(this[r])}return n},map:function(t,e){for(var n=[],r=0,i=this.length;i>r;r++)n.push(t.call(e,this[r],r,this));return n}}),e(Function.prototype,{bind:function(t){var e=this,r=n.call(arguments,1);return function(){var i=r.concat(n.call(arguments));return e.apply(t,i)}}}),e(Array,{isArray:function(t){return"[object Array]"===r.call(t)}})}},function(t){var e={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364};t.exports=e},function(t,e,n){function r(t){var e,n=0,r=0,o=0,a=0,s=0,u=5/3;return window.getComputedStyle&&(e=window.getComputedStyle(t),r=i(e[h+"Duration"])||r,o=i(e[h+"Delay"])||o,a=i(e[l+"Duration"])||a,s=i(e[l+"Delay"])||s,n=Math.max(r+o,a+s)),1e3*n*u}function i(t){var e,n=0;return t?(t.split(",").forEach(function(t){e=parseFloat(t),e>n&&(n=e)}),n):0}var o=n(5),a=n(4),s={},u=n(1),c="transitionend",f="animationend",h="transition",l="animation";"ontransitionend"in window||("onwebkittransitionend"in window?(c+=" webkitTransitionEnd",h="webkitTransition"):("onotransitionend"in a.tNode||"Opera"===navigator.appName)&&(c+=" oTransitionEnd",h="oTransition")),"onanimationend"in window||("onwebkitanimationend"in window?(f+=" webkitAnimationEnd",l="webkitAnimation"):"onoanimationend"in a.tNode&&(f+=" oAnimationEnd",l="oAnimation")),s.inject=function(t,e,n,r){if(r=r||o.noop,Array.isArray(t)){for(var i=a.fragment(),s=0,u=0,c=t.length;c>u;u++)i.appendChild(t[u]);a.inject(i,e,n);var f=function(){s++,s===c&&r()};for(c===s&&r(),u=0;c>u;u++)t[u].onenter?t[u].onenter(f):f()}else a.inject(t,e,n),t.onenter?t.onenter(r):r()},s.remove=function(t,e){function n(){r++,r===o&&e&&e()}if(t){var r=0;if(Array.isArray(t)){for(var i=0,o=t.length;o>i;i++)s.remove(t[i],n);return t}t.onleave?t.onleave(function(){p(t,e)}):p(t,e)}};var p=function(t,e){a.remove(t),e&&e()};s.startClassAnimate=function(t,e,n,i){var s,h,l,p;return!f&&!c||u.isRunning?n():(p=o.once(4!==i?function(){l&&clearTimeout(l),2===i&&a.delClass(t,s),3!==i&&a.delClass(t,e),a.off(t,f,p),a.off(t,c,p),n()}:function(){l&&clearTimeout(l),n()}),2===i?(a.addClass(t,e),s=e.split(/\s+/).map(function(t){return t+"-active"}).join(" "),a.nextReflow(function(){a.addClass(t,s),h=r(t),l=setTimeout(p,h)})):a.nextReflow(4===i?function(){a.delClass(t,e),h=r(t),l=setTimeout(p,h)}:function(){a.addClass(t,e),h=r(t),l=setTimeout(p,h)}),a.on(t,f,p),a.on(t,c,p),p)},s.startStyleAnimate=function(t,e,n){var i,s,u;return a.nextReflow(function(){a.css(t,e),i=r(t),u=setTimeout(s,i)}),s=o.once(function(){u&&clearTimeout(u),a.off(t,f,s),a.off(t,c,s),n()}),a.on(t,f,s),a.on(t,c,s),s},t.exports=s},function(t){function e(t,e){var n=t.length,r=e.length;if(n!==r)return!0;for(var i=0;n>i;i++)if(t[i]!==e[i])return!0;return!1}function n(t,e){return t===e}function r(t,e){for(var r=t.length,i=e.length,o=[],a=0;r>=a;a++)o.push([a]);for(var s=1;i>=s;s++)o[0][s]=s;for(var a=1;r>=a;a++)for(var s=1;i>=s;s++)o[a][s]=n(t[a-1],e[s-1])?o[a-1][s-1]:Math.min(o[a-1][s]+1,o[a][s-1]+1);return o}function i(t,n,i){if(i)return e(t,n);for(var o=r(n,t),a=n.length,s=a,u=t.length,c=u,f=[],h=o[s][c];s>0||c>0;)if(0!==s)if(0!==c){var l=o[s-1][c-1],p=o[s-1][c],d=o[s][c-1],v=Math.min(d,p,l);v===p?(f.unshift(2),s--,h=p):v===l?(l===h?f.unshift(0):(f.unshift(1),h=l),s--,c--):(f.unshift(3),c--,h=d)}else f.unshift(2),s--;else f.unshift(3),c--;var m=0,g=3,y=2,E=1,a=0;u=0;for(var x=[],b={index:null,add:0,removed:[]},s=0;s<f.length;s++)switch(f[s]>0?null===b.index&&(b.index=u):null!=b.index&&(x.push(b),b={index:null,add:0,removed:[]}),f[s]){case m:a++,u++;break;case g:b.add++,u++;break;case y:b.removed.push(n[a]),a++;break;case E:b.add++,b.removed.push(n[a]),a++,u++}return null!=b.index&&x.push(b),x}t.exports=i},function(t){t.exports={element:function(t,e,n){return{type:"element",tag:t,attrs:e,children:n}},attribute:function(t,e,n){return{type:"attribute",name:t,value:e,mdf:n}},"if":function(t,e,n){return{type:"if",test:t,consequent:e,alternate:n}},list:function(t,e,n,r,i){return{type:"list",sequence:t,alternate:r,variable:e,body:n,track:i}},expression:function(t,e,n){return{type:"expression",body:t,constant:n||!1,setbody:e||!1}},text:function(t){return{type:"text",text:t}},template:function(t){return{type:"template",content:t}}}},function(t,e,n){(function(e){"use strict";var r=n(28),i=n(29);e.zone=new r.Zone,t.exports={Zone:r.Zone,zone:e.zone},i.apply()}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(t,e){var n=arguments.length?Object.create(t):this;return n.parent=t||null,Object.keys(e||{}).forEach(function(r){var i=r.substr(1);"$"===r[0]?n[i]=e[r](t[i]||function(){}):"+"===r[0]?n[i]=t[i]?function(){var n=t[i].apply(this,arguments);return e[r].apply(this,arguments),n}:e[r]:"-"===r[0]?n[i]=t[i]?function(){return e[r].apply(this,arguments),t[i].apply(this,arguments)}:e[r]:n[r]="object"==typeof e[r]?JSON.parse(JSON.stringify(e[r])):e[r]}),n.$id=r.nextId++,n}var i=n(30);r.prototype={constructor:r,fork:function(t){return this.onZoneCreated(),new r(this,t)},bind:function(t,e){if("function"!=typeof t)throw new Error("Expecting function got: "+t);e||this.enqueueTask(t);var n=this.isRootZone()?this:this.fork();return function(){return n.run(t,this,arguments)}},bindOnce:function(t){var e=this;return this.bind(function(){var n=t.apply(this,arguments);return e.dequeueTask(t),n})},isRootZone:function(){return null===this.parent},run:function(t,n,r){r=r||[];var i=e.zone;e.zone=this;try{return this.beforeTask(),t.apply(n,r)}catch(o){if(!this.onError)throw o;this.onError(o)}finally{this.afterTask(),e.zone=i}},onError:null,beforeTask:function(){},onZoneCreated:function(){},afterTask:function(){},enqueueTask:function(){},dequeueTask:function(){},addEventListener:function(){return this[i.common.addEventListener].apply(this,arguments)},removeEventListener:function(){return this[i.common.removeEventListener].apply(this,arguments)}},r.nextId=1,r.bindPromiseFn=n(31).bindPromiseFn,t.exports={Zone:r}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(){i.patchSetClearFunction(e,["timeout","interval","immediate"]),i.patchRequestAnimationFrame(e,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"]),i.patchFunction(e,["alert","prompt"]),c.apply(),f.apply(),o.apply(),a.patchClass("MutationObserver"),a.patchClass("WebKitMutationObserver"),s.apply(),u.apply(),h.apply(),l.apply()}var i=n(32),o=n(31),a=n(33),s=n(34),u=n(35),c=(n(36),n(37)),f=n(38),h=n(39),l=n(40);t.exports={apply:r}}).call(e,function(){return this}())},function(t){function e(t){return Symbol(t)}function e(t){return"_zone$"+t}"undefined"!=typeof Symbol;var n={addEventListener:e("addEventListener"),removeEventListener:e("removeEventListener")};t.exports={create:e,common:n}},function(t,e,n){(function(e){"use strict";function r(t,n){var r=e,i=t.every(function(t){return r=r[t]});i&&n.forEach(function(t){var e=r[t];e&&(r[t]=a(e))})}function i(t){var e=t.then;t.then=function(){var n=s.bindArguments(arguments),r=e.apply(t,n);return i(r)};var n=t["catch"];return t["catch"]=function(){var e=s.bindArguments(arguments),r=n.apply(t,e);return i(r)},t}function o(){if(e.Promise){s.patchPrototype(Promise.prototype,["then","catch"]);var t=[[[],["fetch"]],[["Response","prototype"],["arrayBuffer","blob","json","text"]]];t.forEach(function(t){r(t[0],t[1])})}}var a,s=n(41);a=e.Promise?function(t){return function(){var e=t.apply(this,arguments);return e instanceof Promise?e:new Promise(function(t,n){e.then(t,n)})}}:function(t){return function(){return i(t.apply(this,arguments))}},t.exports={apply:o,bindPromiseFn:a}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(t,n){n.map(function(t){return t[0].toUpperCase()+t.substr(1)}).forEach(function(n){var r="set"+n,i=t[r];if(i){var o="clear"+n,a={},u="setInterval"===r?s.bindArguments:s.bindArgumentsOnce;e.zone[r]=function(e){var n,r=e;arguments[0]=function(){return delete a[n],r.apply(this,arguments)};var o=u(arguments);return n=i.apply(t,o),a[n]=!0,n},t[r]=function(){return e.zone[r].apply(this,arguments)};var c=t[o];e.zone[o]=function(t){return a[t]&&(delete a[t],e.zone.dequeueTask()),c.apply(this,arguments)},t[o]=function(){return e.zone[o].apply(this,arguments)}}})}function i(t,n){n.forEach(function(n){var r=t[n];r&&(e.zone[n]=function(n){var i=e.zone.isRootZone()?e.zone.fork():e.zone;return n&&(arguments[0]=function(){return i.run(n,this,arguments)}),r.apply(t,arguments)},t[n]=function(){return e.zone[n].apply(this,arguments)})})}function o(t,n){n.forEach(function(n){var r=t[n];r&&(e.zone[n]=function(e){arguments[0]=function(){return e.apply(this,arguments)};var n=s.bindArgumentsOnce(arguments);return r.apply(t,n)},t[n]=function(){return zone[n].apply(this,arguments)})})}function a(t,n){n.forEach(function(n){var r=t[n];e.zone[n]=function(){return r.apply(t,arguments)},t[n]=function(){return e.zone[n].apply(this,arguments)}})}var s=n(41);t.exports={patchSetClearFunction:r,patchSetFunction:o,patchRequestAnimationFrame:i,patchFunction:a}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(t){var n=e[t];if(n){e[t]=function(t){this[o]=new n(e.zone.bind(t,!0)),this[a]=e.zone};var r=new n(function(){});e[t].prototype.disconnect=function(){var t=this[o].disconnect.apply(this[o],arguments);return this[s]&&(this[a].dequeueTask(),this[s]=!1),t},e[t].prototype.observe=function(){return this[s]||(this[a].enqueueTask(),this[s]=!0),this[o].observe.apply(this[o],arguments)};var i;for(i in r)!function(n){void 0===typeof e[t].prototype&&("function"==typeof r[n]?e[t].prototype[n]=function(){return this[o][n].apply(this[o],arguments)}:Object.defineProperty(e[t].prototype,n,{set:function(t){this[o][n]="function"==typeof t?e.zone.bind(t):t},get:function(){return this[o][n]}}))}(i)}}var i=n(30),o=i.create("originalInstance"),a=i.create("creationZone"),s=i.create("isActive");
t.exports={patchClass:r}}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(){Object.defineProperty=function(t,e,n){if(o(t,e))throw new TypeError("Cannot assign to read only property '"+e+"' of "+t);return"prototype"!==e&&(n=a(t,e,n)),u(t,e,n)},Object.defineProperties=function(t,e){return Object.keys(e).forEach(function(n){Object.defineProperty(t,n,e[n])}),t},Object.create=function(t,e){return"object"==typeof e&&Object.keys(e).forEach(function(n){e[n]=a(t,n,e[n])}),f(t,e)},Object.getOwnPropertyDescriptor=function(t,e){var n=c(t,e);return o(t,e)&&(n.configurable=!1),n}}function i(t,e,n){return n=a(t,e,n),u(t,e,n)}function o(t,e){return t&&t[h]&&t[h][e]}function a(t,e,n){return n.configurable=!0,n.configurable||(t[h]||u(t,h,{writable:!0,value:{}}),t[h][e]=!0),n}var s=n(30),u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f=Object.create,h=s.create("unconfigurables");t.exports={apply:r,_redefineProperty:i}},function(t,e,n){(function(e){"use strict";function r(){if(!o.isWebWorker()&&"registerElement"in e.document){var t=document.registerElement,n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"];document.registerElement=function(r,o){return o&&o.prototype&&n.forEach(function(t){if(o.prototype.hasOwnProperty(t)){var n=Object.getOwnPropertyDescriptor(o.prototype,t);n&&n.value?(n.value=e.zone.bind(n.value),i(o.prototype,t,n)):o.prototype[t]=e.zone.bind(o.prototype[t])}else o.prototype[t]&&(o.prototype[t]=e.zone.bind(o.prototype[t]))}),t.apply(document,[r,o])}}}var i=n(34)._redefineProperty,o=n(41);t.exports={apply:r}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(){var t=e.WebSocket;i.patchEventTargetMethods(t.prototype),e.WebSocket=function(e,n){var r,o=arguments.length>1?new t(e,n):new t(e),a=Object.getOwnPropertyDescriptor(o,"onmessage");return a&&a.configurable===!1?(r=Object.create(o),["addEventListener","removeEventListener","send","close"].forEach(function(t){r[t]=function(){return o[t].apply(o,arguments)}})):r=o,i.patchProperties(r,["onclose","onerror","onmessage","onopen"]),r}}var i=n(41);t.exports={apply:r}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(){if(e.EventTarget)i.patchEventTargetMethods(e.EventTarget.prototype);else{var t=["ApplicationCache","EventSource","FileReader","InputMethodContext","MediaController","MessagePort","Node","Performance","SVGElementInstance","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebKitNamedFlow","Worker","WorkerGlobalScope","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];t.forEach(function(t){var n=e[t]&&e[t].prototype;n&&n.addEventListener&&i.patchEventTargetMethods(n)}),"undefined"!=typeof window&&i.patchEventTargetMethods(window)}}var i=n(41);t.exports={apply:r}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(){if(!s.isWebWorker()){var t="undefined"!=typeof WebSocket;if(i()){var e=c.map(function(t){return"on"+t});s.patchProperties(HTMLElement.prototype,e),s.patchProperties(XMLHttpRequest.prototype),t&&s.patchProperties(WebSocket.prototype)}else o(),s.patchClass("XMLHttpRequest"),t&&a.apply()}}function i(){if(!Object.getOwnPropertyDescriptor(HTMLElement.prototype,"onclick")&&"undefined"!=typeof Element){var t=Object.getOwnPropertyDescriptor(Element.prototype,"onclick");if(t&&!t.configurable)return!1}Object.defineProperty(HTMLElement.prototype,"onclick",{get:function(){return!0}});var e=document.createElement("div"),n=!!e.onclick;return Object.defineProperty(HTMLElement.prototype,"onclick",{}),n}function o(){c.forEach(function(t){var n="on"+t;document.addEventListener(t,function(t){for(var r,i=t.target;i;)i[n]&&!i[n][f]&&(r=e.zone.bind(i[n]),r[f]=i[n],i[n]=r),i=i.parentElement},!0)})}var a=n(36),s=n(41),u=n(30),c="copy cut paste abort blur focus canplay canplaythrough change click contextmenu dblclick drag dragend dragenter dragleave dragover dragstart drop durationchange emptied ended input invalid keydown keypress keyup load loadeddata loadedmetadata loadstart message mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup pause play playing progress ratechange reset scroll seeked seeking select show stalled submit suspend timeupdate volumechange waiting mozfullscreenchange mozfullscreenerror mozpointerlockchange mozpointerlockerror error webglcontextrestored webglcontextlost webglcontextcreationerror".split(" "),f=u.create("unbound");t.exports={apply:r}}).call(e,function(){return this}())},function(t,e,n){(function(e){"use strict";function r(){e.navigator&&e.navigator.geolocation&&i.patchPrototype(e.navigator.geolocation,["getCurrentPosition","watchPosition"])}var i=n(41);t.exports={apply:r}}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(){i.patchClass("FileReader")}var i=n(41);t.exports={apply:r}},function(t,e,n){(function(e){"use strict";function r(t){for(var n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=e.zone.bind(t[n]));return t}function i(t){for(var n=t.length-1;n>=0;n--)"function"==typeof t[n]&&(t[n]=e.zone.bindOnce(t[n]));return t}function o(t,e){e.forEach(function(e){var n=t[e];n&&(t[e]=function(){return n.apply(this,r(arguments))})})}function a(){return"undefined"==typeof document}function s(t,e){var n=Object.getOwnPropertyDescriptor(t,e)||{enumerable:!0,configurable:!0};delete n.writable,delete n.value;var r=e.substr(2),i="_"+e;n.set=function(t){this[i]&&this.removeEventListener(r,this[i]),"function"==typeof t?(this[i]=t,this.addEventListener(r,t,!1)):this[i]=null},n.get=function(){return this[i]},Object.defineProperty(t,e,n)}function u(t,e){(e||function(){var e=[];for(var n in t)e.push(n);return e}().filter(function(t){return"on"===t.substr(0,2)})).forEach(function(e){s(t,e)})}function c(t){t[h.common.addEventListener]=t.addEventListener,t.addEventListener=function(t,n,r){var i,o=t+(r?"$capturing":"$bubbling");"[object FunctionWrapper]"!==n.toString()&&(i=n.handleEvent?function(t){return function(){t.handleEvent.apply(t,arguments)}}(n):n,n[l]=i,n[p]=n[p]||{},n[p][o]=n[p][o]||zone.bind(i),arguments[1]=n[p][o]);var a=this||e;return e.zone.addEventListener.apply(a,arguments)},t[h.common.removeEventListener]=t.removeEventListener,t.removeEventListener=function(t,n,r){var i=t+(r?"$capturing":"$bubbling");if(n[p]&&n[p][i]){var o=n[p];arguments[1]=o[i],delete o[i]}var a=this||e,s=e.zone.removeEventListener.apply(a,arguments);return e.zone.dequeueTask(n[l]),s}}function f(t){var n=e[t];if(n){e[t]=function(){var t=r(arguments);switch(t.length){case 0:this[d]=new n;break;case 1:this[d]=new n(t[0]);break;case 2:this[d]=new n(t[0],t[1]);break;case 3:this[d]=new n(t[0],t[1],t[2]);break;case 4:this[d]=new n(t[0],t[1],t[2],t[3]);break;default:throw new Error("what are you even doing?")}};var i,o=new n;for(i in o)!function(n){"function"==typeof o[n]?e[t].prototype[n]=function(){return this[d][n].apply(this[d],arguments)}:Object.defineProperty(e[t].prototype,n,{set:function(t){this[d][n]="function"==typeof t?e.zone.bind(t):t},get:function(){return this[d][n]}})}(i);for(i in n)"prototype"!==i&&n.hasOwnProperty(i)&&(e[t][i]=n[i])}}var h=n(30),l=h.create("originalFn"),p=h.create("boundFns"),d=h.create("originalInstance");t.exports={bindArguments:r,bindArgumentsOnce:i,patchPrototype:o,patchProperty:s,patchProperties:u,patchEventTargetMethods:c,patchClass:f,isWebWorker:a}}).call(e,function(){return this}())}])});